"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2124],{2124:(e,t,s)=>{s.d(t,{A:()=>c});var a=s(5155),l=s(2115),r=s(8337);function c(e){let{selectedBackground:t,onBackgroundChange:s,onClose:c,theme:i="dark",moodBoardMode:d=!1}=e,[n,o]=(0,l.useState)([]),[x,u]=(0,l.useState)(!0),[h,m]=(0,l.useState)(null),[b,g]=(0,l.useState)("all");(0,l.useEffect)(()=>{v()},[]);let v=async()=>{try{u(!0);let e=await fetch("/api/assets/upload?type=background"),t=await e.json();t.success?o(t.assets):m("Failed to load backgrounds")}catch(e){m("Error loading backgrounds"),console.error("Background fetch error:",e)}finally{u(!1)}},f="all"===b?n:n.filter(e=>e.category===b),p=e=>{switch(e){case"easy":return"bg-green-500";case"medium":return"bg-yellow-500";case"hard":return"bg-red-500";default:return"bg-gray-500"}},j=e=>{switch(e){case"easy":return"Easy contrast";case"medium":return"Medium contrast";case"hard":return"Hard contrast";default:return"Unknown"}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md z-40",onClick:c}),(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-4xl max-h-[80vh] overflow-hidden rounded-2xl ".concat((0,r.ed)("form",i)),children:[(0,a.jsxs)("div",{className:"flex justify-between items-center p-6 border-b border-white/20",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"".concat((0,r.$$)("cardTitle",i)," ").concat("dark"===i?"text-white":"text-gray-900"),children:["\uD83D\uDDBC️ ",d?"Mood Board Backgrounds":"Select Background"]}),(0,a.jsx)("p",{className:"".concat((0,r.$$)("body",i)," ").concat("dark"===i?"text-white/70":"text-gray-600"," mt-1"),children:d?"Choose backgrounds optimized for design testing with difficulty indicators":"Choose a background to test your design system"}),d&&(0,a.jsxs)("div",{className:"mt-2 flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"px-2 py-1 bg-blue-500/20 border border-blue-500/30 rounded-md text-xs text-blue-300",children:"\uD83C\uDFA8 Enhanced Mode"}),(0,a.jsx)("div",{className:"px-2 py-1 bg-green-500/20 border border-green-500/30 rounded-md text-xs text-green-300",children:"⚡ Quick Switch"})]})]}),(0,a.jsx)("button",{onClick:c,className:"p-2 rounded-lg transition-colors ".concat("dark"===i?"hover:bg-white/10 text-white/70 hover:text-white":"hover:bg-gray-100 text-gray-500 hover:text-gray-700"),children:(0,a.jsx)("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),(0,a.jsx)("div",{className:"p-6 border-b border-white/10",children:(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:[{value:"all",label:"All Backgrounds"},{value:"kitchen",label:"Kitchen"},{value:"restaurant",label:"Restaurant"},{value:"hotel",label:"Hotel"},{value:"office",label:"Office"},{value:"neutral",label:"Neutral"}].map(e=>(0,a.jsx)("button",{onClick:()=>g(e.value),className:"px-3 py-1 rounded-full text-xs font-medium transition-all duration-200 ".concat(b===e.value?"dark"===i?"bg-blue-500 text-white":"bg-blue-600 text-white":"dark"===i?"bg-white/10 text-white/70 hover:bg-white/20":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:e.label},e.value))})}),(0,a.jsx)("div",{className:"p-6 overflow-y-auto max-h-96",children:x?(0,a.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),(0,a.jsx)("span",{className:"ml-3 ".concat("dark"===i?"text-white/70":"text-gray-600"),children:"Loading backgrounds..."})]}):h?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"".concat("dark"===i?"text-red-400":"text-red-600"," mb-2"),children:h}),(0,a.jsx)("button",{onClick:v,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Retry"})]}):0===f.length?(0,a.jsx)("div",{className:"text-center py-12",children:(0,a.jsx)("div",{className:"".concat("dark"===i?"text-white/70":"text-gray-600"," mb-4"),children:"No backgrounds found in this category"})}):(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:f.map(e=>(0,a.jsxs)("div",{className:"relative group cursor-pointer rounded-lg overflow-hidden border-2 transition-all duration-200 ".concat(t===e.file_url?"border-blue-500 ring-2 ring-blue-500/50":"dark"===i?"border-white/20 hover:border-white/40":"border-gray-200 hover:border-gray-400"),onClick:()=>s(e),children:[(0,a.jsxs)("div",{className:"aspect-video bg-gray-200 relative overflow-hidden",children:[(0,a.jsx)("img",{src:e.file_url,alt:e.alt_text||e.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}),(0,a.jsx)("div",{className:"absolute top-2 right-2",children:d?(0,a.jsx)("div",{className:"px-2 py-1 rounded-full text-xs font-bold text-white backdrop-blur-sm ".concat(p(e.difficulty)),title:j(e.difficulty),children:e.difficulty.charAt(0).toUpperCase()}):(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(p(e.difficulty)),title:j(e.difficulty)})}),t===e.file_url&&(0,a.jsx)("div",{className:"absolute inset-0 bg-blue-500/20 flex items-center justify-center",children:(0,a.jsx)("div",{className:"bg-blue-500 rounded-full p-1",children:(0,a.jsx)("svg",{className:"h-4 w-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})})]}),(0,a.jsxs)("div",{className:"p-3",children:[(0,a.jsx)("h3",{className:"text-sm font-medium truncate ".concat("dark"===i?"text-white":"text-gray-900"),children:e.name}),e.category&&(0,a.jsx)("p",{className:"text-xs capitalize ".concat("dark"===i?"text-white/60":"text-gray-500"),children:e.category})]})]},e.id))})}),(0,a.jsx)("div",{className:"p-6 border-t border-white/10",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-500"}),(0,a.jsx)("span",{className:"dark"===i?"text-white/60":"text-gray-500",children:"Easy"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-yellow-500"}),(0,a.jsx)("span",{className:"dark"===i?"text-white/60":"text-gray-500",children:"Medium"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-red-500"}),(0,a.jsx)("span",{className:"dark"===i?"text-white/60":"text-gray-500",children:"Hard"})]})]}),d&&(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-px h-4 bg-white/20"}),(0,a.jsx)("button",{onClick:()=>g("easy"),className:"px-2 py-1 text-xs text-green-300 hover:text-green-200 transition-colors",children:"Easy only"}),(0,a.jsx)("button",{onClick:()=>g("all"),className:"px-2 py-1 text-xs text-white/60 hover:text-white transition-colors",children:"All"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[d&&(0,a.jsxs)("div",{className:"text-xs text-white/60",children:[f.length," backgrounds"]}),(0,a.jsx)("button",{onClick:c,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Done"})]})]})})]})})]})}}}]);