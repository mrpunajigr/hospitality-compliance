(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6556],{567:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(5155),n=s(2115),a=s(5695),o=s(5900),l=s(9175),c=s(8337);function i(){let e=(0,a.useRouter)(),{login:t,isAuthenticated:s,isLoading:i}=(0,o.$N)(),[d,u]=(0,n.useState)({username:"",password:""}),[m,h]=(0,n.useState)(!1),[x,g]=(0,n.useState)("");(0,n.useEffect)(()=>{!i&&s&&e.push("/dev")},[s,i,e]);let p=async s=>{s.preventDefault(),h(!0),g(""),await t(d.username,d.password)?e.push("/dev"):g("Invalid credentials. Please check your username and password."),h(!1)},f=e=>{u(t=>({...t,[e.target.name]:e.target.value}))};return i?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin h-8 w-8 border-2 border-orange-500 border-t-transparent rounded-full mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-white",children:"Checking DEV session..."})]})}):(0,r.jsxs)("div",{className:"min-h-screen relative overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-cover bg-no-repeat",style:{backgroundImage:"url('/chef-workspace1jpg.jpg')",backgroundPosition:"50% 50%",backgroundAttachment:"fixed",filter:"brightness(0.4)"}}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-900/80 via-gray-900/60 to-black/80"}),(0,r.jsx)("div",{className:"absolute top-0 left-0 right-0 z-10",children:(0,r.jsx)("div",{className:"bg-orange-600 text-white text-center py-2 text-sm font-medium",children:"\uD83D\uDD27 DEVELOPMENT TEAM ACCESS PORTAL - SECURE LOGIN REQUIRED \uD83D\uDD27"})}),(0,r.jsx)("div",{className:"relative z-20 min-h-screen flex items-center justify-center px-4 pt-12",children:(0,r.jsxs)("div",{className:"max-w-md w-full",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("div",{className:"w-20 h-20 mx-auto mb-4 bg-orange-600 rounded-full flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-white font-bold text-2xl",children:"DEV"})}),(0,r.jsx)("h1",{className:"".concat((0,c.$$)("pageTitle")," text-white mb-2"),children:"Development Portal"}),(0,r.jsx)("p",{className:"".concat((0,c.$$)("body")," text-gray-300"),children:"Secure access for development team"})]}),(0,r.jsxs)("div",{className:(0,c.ed)("form"),children:[(0,r.jsxs)("form",{onSubmit:p,className:"space-y-6",children:[x&&(0,r.jsx)("div",{className:"bg-red-600/20 border border-red-400/30 rounded-xl p-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"text-red-400 mr-2",children:"⚠"}),(0,r.jsx)("p",{className:"text-red-200 text-sm",children:x})]})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"DEV Username"}),(0,r.jsx)("input",{type:"text",id:"username",name:"username",value:d.username,onChange:f,required:!0,className:"w-full px-4 py-3 bg-white/30 border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Enter your dev username",disabled:m})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"DEV Password"}),(0,r.jsx)("input",{type:"password",id:"password",name:"password",value:d.password,onChange:f,required:!0,className:"w-full px-4 py-3 bg-white/30 border border-white/30 rounded-xl text-gray-900 placeholder-gray-600 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Enter your dev password",disabled:m})]}),(0,r.jsx)("button",{type:"submit",disabled:m,className:"w-full bg-orange-600 hover:bg-orange-700 disabled:bg-orange-400 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-[1.02] disabled:transform-none disabled:cursor-not-allowed",children:m?(0,r.jsxs)("div",{className:"flex items-center justify-center",children:[(0,r.jsx)("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Authenticating..."]}):"Access DEV Portal"})]}),!1]}),(0,r.jsxs)("div",{className:"text-center mt-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-4 text-sm text-gray-400",children:[(0,r.jsx)("span",{children:(0,l.VM)("short")}),(0,r.jsx)("span",{children:"•"}),(0,r.jsx)("span",{children:"Hospitality Compliance SaaS"})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"For development team access only"})]})]})})]})}},2003:(e,t,s)=>{Promise.resolve().then(s.bind(s,567))},5695:(e,t,s)=>{"use strict";var r=s(8999);s.o(r,"redirect")&&s.d(t,{redirect:function(){return r.redirect}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},5900:(e,t,s)=>{"use strict";s.d(t,{jY:()=>i,$N:()=>d,a3:()=>u});var r=s(5155),n=s(2115);s(9509);let a={SESSION_DURATION:288e5,SESSION_KEY:"hospitality_dev_session",COOKIE_NAME:"dev_session_token"};class o{static setSession(e){let t=btoa(JSON.stringify({username:e.username,role:e.role,loginTime:e.loginTime,expiresAt:e.expiresAt}));localStorage.setItem(a.SESSION_KEY,t),document.cookie="".concat(a.COOKIE_NAME,"=").concat(t,"; path=/dev; max-age=").concat(a.SESSION_DURATION/1e3)}static getSession(){try{let e=localStorage.getItem(a.SESSION_KEY);if(!e)return console.log("\uD83D\uDD27 DEV SESSION: No token found in localStorage"),null;let t=function(e){try{let t=JSON.parse(atob(e));if(Date.now()>t.expiresAt)return null;return{username:t.username,role:t.role,loginTime:t.loginTime,expiresAt:t.expiresAt}}catch{return null}}(e);return t?console.log("\uD83D\uDD27 DEV SESSION: Valid session found for",t.username):(console.log("\uD83D\uDD27 DEV SESSION: Invalid or expired token, clearing storage"),localStorage.removeItem(a.SESSION_KEY)),t}catch(e){return console.error("\uD83D\uDEAB DEV SESSION: Error retrieving session",e),null}}static clearSession(){localStorage.removeItem(a.SESSION_KEY),document.cookie="".concat(a.COOKIE_NAME,"=; path=/dev; expires=Thu, 01 Jan 1970 00:00:01 GMT")}static isAuthenticated(){return null!==this.getSession()}static hasRole(e){let t=this.getSession();if(!t)return!1;let s={DEV:1,SENIOR_DEV:2,ARCHITECT:3};return s[t.role]>=s[e]}}function l(e,t,s){let r=new Date().toISOString();console.log("\uD83D\uDD27 DEV ACCESS [".concat(r,"] ").concat(e.username," (").concat(e.role,") - ").concat(t," on ").concat(s))}let c=(0,n.createContext)(void 0);function i(e){let{children:t}=e,[s,a]=(0,n.useState)(null),[i,d]=(0,n.useState)(!0);(0,n.useEffect)(()=>{console.log("\uD83D\uDD27 DEV AUTH: Initializing context, checking for existing session...");let e=setTimeout(()=>{console.log("\uD83D\uDD27 DEV AUTH: Session check timeout - forcing no session state"),a(null),d(!1)},2e3);try{let t=o.getSession();console.log("\uD83D\uDD27 DEV AUTH: Session check result:",t?"".concat(t.username," (").concat(t.role,")"):"No session"),clearTimeout(e),a(t),d(!1),t&&l(t,"SESSION_RESTORED","dev-auth-context")}catch(t){console.error("\uD83D\uDEAB DEV AUTH: Error during session check:",t),clearTimeout(e),a(null),d(!1)}return()=>clearTimeout(e)},[]);let u=async(e,t)=>{try{let s=await fetch("/api/dev-auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})});if(s.ok){let e=await s.json(),t={username:e.username,role:e.role,loginTime:e.loginTime,expiresAt:e.expiresAt};return o.setSession(t),a(t),l(t,"LOGIN_SUCCESS","dev-portal"),!0}return!1}catch(e){return console.error("DEV login error:",e),!1}};return(0,r.jsx)(c.Provider,{value:{devUser:s,isAuthenticated:!!s,isLoading:i,login:u,logout:()=>{s&&l(s,"LOGOUT","dev-portal"),o.clearSession(),a(null)},hasRole:e=>o.hasRole(e),logAccess:(e,t)=>{s&&l(s,e,t)}},children:t})}function d(){let e=(0,n.useContext)(c);if(void 0===e)throw Error("useDevAuth must be used within a DevAuthProvider");return e}function u(e){let{requiredRole:t="DEV",fallback:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){let{isAuthenticated:a,hasRole:o,isLoading:l}=d();return l?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin h-8 w-8 border-2 border-orange-500 border-t-transparent rounded-full mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-white",children:"Verifying DEV access..."})]})}):a&&o(t)?(0,r.jsx)(e,{...n}):s||(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:(0,r.jsxs)("div",{className:"text-center max-w-md mx-auto p-8",children:[(0,r.jsx)("div",{className:"w-20 h-20 mx-auto mb-6 bg-red-600 rounded-full flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-3xl",children:"\uD83D\uDD12"})}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-white mb-4",children:"Access Denied"}),(0,r.jsxs)("p",{className:"text-lg text-gray-300 mb-6",children:["You need ",t," level access to view this content."]}),(0,r.jsx)("a",{href:"/dev/login",className:"inline-block bg-orange-600 hover:bg-orange-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors",children:"DEV Login"})]})})}}},9175:(e,t,s)=>{"use strict";s.d(t,{VM:()=>c});let r={major:1,month:9,day:5,build:13,alpha:""},n="".concat(r.major,".").concat(r.month,".").concat(r.day,".").concat(String(r.build).padStart(3,"0")).concat(r.alpha),a="".concat(r.major,".").concat(r.month,".").concat(r.day).concat(r.alpha),o=new Date().toISOString().split("T")[0],l="production";parseInt(n.split(".")[0]),parseInt(n.split(".")[1]),n.split(".")[2];let c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"short",t="v".concat(n);switch(e){case"short":default:return t;case"full":return"".concat(t," (").concat(o,")");case"detailed":return"".concat(t," (").concat(l,") - Built: ").concat(o);case"dev":return"".concat(t," | ").concat(l.toUpperCase());case"prod":return"v".concat(a)}}}},e=>{e.O(0,[8337,8441,5964,7358],()=>e(e.s=2003)),_N_E=e.O()}]);