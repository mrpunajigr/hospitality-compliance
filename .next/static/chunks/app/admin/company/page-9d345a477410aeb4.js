(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3630],{2417:(e,s,a)=>{Promise.resolve().then(a.bind(a,2729))},2729:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var l=a(5155),c=a(2115),n=a(5695),t=a(1811),i=a(6874),r=a.n(i),d=a(5552),m=a(8337);function o(){let[e,s]=(0,c.useState)(null),[a,i]=(0,c.useState)(null),[o,h]=(0,c.useState)(!0);(0,n.useRouter)();let x=async()=>{try{let{data:e,error:a}=await t.supabase.auth.signInAnonymously();if(!a&&e.user){console.log("Anonymous demo user signed in successfully"),s(e.user),h(!1);return}let l={id:"a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a01",email:"demo@example.com",app_metadata:{},user_metadata:{full_name:"Demo User"},aud:"authenticated",role:"authenticated",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};s(l),h(!1)}catch(e){console.error("Demo sign-in failed:",e),s({id:"a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a01",email:"demo@example.com",app_metadata:{},user_metadata:{full_name:"Demo User"},aud:"authenticated",role:"authenticated",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}),h(!1)}};return((0,c.useEffect)(()=>{(async()=>{let{data:{user:e}}=await t.supabase.auth.getUser();if(e){s(e);try{let s=await (0,d.LE)(e.id);s&&i(s)}catch(e){console.error("Error loading client info:",e)}h(!1)}else await x()})();let{data:{subscription:e}}=t.supabase.auth.onAuthStateChange((e,a)=>{var l;s(null!=(l=null==a?void 0:a.user)?l:null)});return()=>e.unsubscribe()},[]),o)?(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,l.jsx)("div",{className:(0,m.ed)("primary"),children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-spin h-8 w-8 border-2 border-white border-t-transparent rounded-full mx-auto mb-4"}),(0,l.jsx)("p",{className:(0,m.$$)("body"),children:"Loading Company..."})]})})}):e?(0,l.jsxs)("div",{className:"min-h-screen",children:[(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,l.jsx)("div",{className:"flex justify-between items-center py-6",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"".concat((0,m.$$)("pageTitle")," drop-shadow-lg"),children:"Company Profile"}),(0,l.jsx)("p",{className:"".concat((0,m.$$)("bodySmall")," drop-shadow-md"),children:"Manage your business information and settings"}),a&&(0,l.jsxs)("div",{className:"".concat((0,m.$$)("meta")," text-white/80 drop-shadow-md mt-1"),children:[a.name," â€¢ ",a.role]})]})})}),(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,l.jsxs)("div",{className:"flex gap-6",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[(0,l.jsxs)("div",{className:(0,m.ed)("primary"),children:[(0,l.jsxs)("div",{className:"text-center mb-4",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-blue-500/20 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,l.jsx)("span",{className:"text-2xl",children:"\uD83C\uDFE2"})}),(0,l.jsx)("h3",{className:(0,m.$$)("cardTitle"),children:"Business Info"}),(0,l.jsx)("p",{className:"".concat((0,m.$$)("bodySmall")," mt-2"),children:"Demo Restaurant Ltd"})]}),(0,l.jsxs)("div",{className:"".concat((0,m.$$)("body")," space-y-1"),children:[(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Type:"})," Restaurant"]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"License:"})," AL123456"]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Phone:"})," +64 9 123 4567"]})]})]}),(0,l.jsxs)("div",{className:(0,m.ed)("primary"),children:[(0,l.jsxs)("div",{className:"text-center mb-4",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,l.jsx)("span",{className:"text-2xl",children:"\uD83D\uDC8E"})}),(0,l.jsx)("h3",{className:(0,m.$$)("cardTitle"),children:"Subscription"}),(0,l.jsx)("p",{className:"".concat((0,m.$$)("bodySmall")," mt-2"),children:"Professional Plan"})]}),(0,l.jsxs)("div",{className:"".concat((0,m.$$)("body")," space-y-1"),children:[(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Status:"})," Active"]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Usage:"})," 127/2000"]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Billing:"})," $99/month"]})]})]}),(0,l.jsxs)("div",{className:(0,m.ed)("primary"),children:[(0,l.jsxs)("div",{className:"text-center mb-4",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-purple-500/20 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,l.jsx)("span",{className:"text-2xl",children:"\uD83D\uDC65"})}),(0,l.jsx)("h3",{className:(0,m.$$)("cardTitle"),children:"Team"}),(0,l.jsx)("p",{className:"".concat((0,m.$$)("bodySmall")," mt-2"),children:"4 Active Users"})]}),(0,l.jsxs)("div",{className:"".concat((0,m.$$)("body")," space-y-1"),children:[(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Admins:"})," 2"]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Staff:"})," 2"]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Pending:"})," 0"]})]})]})]}),(0,l.jsxs)("div",{className:(0,m.ed)("primary"),children:[(0,l.jsx)("h2",{className:"".concat((0,m.$$)("sectionTitle")," mb-6"),children:"Business Information"}),(0,l.jsxs)("form",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block ".concat((0,m.$$)("label")," mb-2"),children:"Business Name"}),(0,l.jsx)("input",{type:"text",defaultValue:"Demo Restaurant Ltd",className:(0,m._c)()})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block ".concat((0,m.$$)("label")," mb-2"),children:"Business Type"}),(0,l.jsxs)("select",{className:(0,m._c)(),children:[(0,l.jsx)("option",{value:"restaurant",children:"Restaurant"}),(0,l.jsx)("option",{value:"cafe",children:"Caf\xe9"}),(0,l.jsx)("option",{value:"hotel",children:"Hotel"}),(0,l.jsx)("option",{value:"catering",children:"Catering"})]})]})]}),(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block ".concat((0,m.$$)("label")," mb-2"),children:"Contact Email"}),(0,l.jsx)("input",{type:"email",defaultValue:"admin@demorestaurant.co.nz",className:(0,m._c)()})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block ".concat((0,m.$$)("label")," mb-2"),children:"Phone Number"}),(0,l.jsx)("input",{type:"tel",defaultValue:"+64 9 123 4567",className:(0,m._c)()})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block ".concat((0,m.$$)("label")," mb-2"),children:"Address"}),(0,l.jsx)("textarea",{rows:3,defaultValue:"123 Queen Street, Auckland CBD, Auckland 1010",className:(0,m._c)()})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block ".concat((0,m.$$)("label")," mb-2"),children:"Alcohol License Number"}),(0,l.jsx)("input",{type:"text",defaultValue:"AL123456789",className:(0,m._c)()})]}),(0,l.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,l.jsx)("button",{type:"button",className:"bg-white/20 hover:bg-white/30 text-white font-medium py-3 px-6 rounded-xl transition-all duration-200 border border-white/30 backdrop-blur-sm",children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl",children:"Save Changes"})]})]})]})]}),(0,l.jsx)("div",{className:"w-64",children:(0,l.jsxs)("div",{className:"".concat((0,m.ed)("sidebar")," sticky top-8"),children:[(0,l.jsx)("h2",{className:"".concat((0,m.$$)("sectionTitle")," mb-6"),children:"Quick Actions"}),(0,l.jsxs)("div",{children:[(0,l.jsx)(r(),{href:"/admin/company/settings",className:"block mb-4",children:(0,l.jsx)("div",{className:(0,m.ed)("secondary"),children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:(0,m.$$)("cardTitle"),children:"Settings"}),(0,l.jsx)("p",{className:"".concat((0,m.$$)("bodySmall")," mt-2"),children:"Compliance rules & preferences"})]})})}),(0,l.jsx)(r(),{href:"/admin/company/team",className:"block mb-4",children:(0,l.jsx)("div",{className:(0,m.ed)("secondary"),children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:(0,m.$$)("cardTitle"),children:"Team"}),(0,l.jsx)("p",{className:"".concat((0,m.$$)("bodySmall")," mt-2"),children:"Manage users & permissions"})]})})}),(0,l.jsx)(r(),{href:"/admin/company/billing",className:"block mb-4",children:(0,l.jsx)("div",{className:(0,m.ed)("secondary"),children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:(0,m.$$)("cardTitle"),children:"Billing"}),(0,l.jsx)("p",{className:"".concat((0,m.$$)("bodySmall")," mt-2"),children:"Subscription & payment"})]})})}),(0,l.jsx)(r(),{href:"/workspace/reports",className:"block",children:(0,l.jsx)("div",{className:(0,m.ed)("secondary"),children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:(0,m.$$)("cardTitle"),children:"Reports"}),(0,l.jsx)("p",{className:"".concat((0,m.$$)("bodySmall")," mt-2"),children:"Export compliance data"})]})})})]})]})})]})})]}):(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center px-4",children:(0,l.jsx)("div",{className:"".concat((0,m.ed)("primary")," max-w-md w-full"),children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h1",{className:"".concat((0,m.$$)("pageTitle")," mb-2"),children:"Company Profile"}),(0,l.jsx)("p",{className:"".concat((0,m.$$)("bodySmall")," mb-6"),children:"Please sign in to manage settings"}),(0,l.jsx)("button",{onClick:x,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-[1.02] mb-4",children:"Sign In as Demo User"}),(0,l.jsx)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3 border border-white/20",children:(0,l.jsx)("p",{className:"text-xs text-white/70",children:"Demo mode with test company data"})})]})})})}},5695:(e,s,a)=>{"use strict";var l=a(8999);a.o(l,"redirect")&&a.d(s,{redirect:function(){return l.redirect}}),a.o(l,"usePathname")&&a.d(s,{usePathname:function(){return l.usePathname}}),a.o(l,"useRouter")&&a.d(s,{useRouter:function(){return l.useRouter}})}},e=>{e.O(0,[9535,6874,8337,5552,8441,5964,7358],()=>e(e.s=2417)),_N_E=e.O()}]);