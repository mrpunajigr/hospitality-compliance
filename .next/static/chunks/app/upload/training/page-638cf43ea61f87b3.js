(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9553],{1288:(e,t,s)=>{Promise.resolve().then(s.bind(s,5506))},1811:(e,t,s)=>{"use strict";s.d(t,{BP:()=>p,HK:()=>x,FX:()=>g,tB:()=>h,supabase:()=>b});var i=s(5647),a=s(9535),l=s(9509);let r="https://rggdywqnvpuwssluzfud.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJnZ2R5d3FudnB1d3NzbHV6ZnVkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQzOTIwMTAsImV4cCI6MjA2OTk2ODAxMH0.j1AiBUEfjqVxLu8ARtH5B_DBKI1dg2EKgp_VZtprAzg";if(!r||!n)throw Error("Missing Supabase environment variables. Please ensure NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY are set.");let c=(0,a.createBrowserClient)(r,n),o=l.env.NEXT_PUBLIC_SUPABASE_SERVICE_ROLE_KEY||l.env.SUPABASE_SERVICE_ROLE_KEY;o&&(0,i.UU)(r,o,{auth:{autoRefreshToken:!1,persistSession:!1}});let d="delivery-dockets",m=new Map,u=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3600;if(arguments.length>2&&arguments[2],!e||""===e.trim()||"null"===e||"undefined"===e)return"";try{let s=e.split("/").pop()||e;console.log("\uD83D\uDD0D Generating signed URL for:",s),console.log("\uD83D\uDD0D Using bucket:",d),console.log("\uD83D\uDD0D Original path:",e);let{data:i,error:a}=await c.storage.from(d).list("",{limit:100});console.log("\uD83D\uDD0D Files in bucket:",(null==i?void 0:i.map(e=>e.name))||[]),console.log("\uD83D\uDD0D Looking for file:",s);let l=c.storage.from(d).createSignedUrl(s,t),{data:r,error:n}=await new Promise((e,t)=>{let s=setTimeout(()=>{t(Error("Timeout after ".concat(1e4,"ms")))},1e4);l.then(e).catch(t).finally(()=>clearTimeout(s))});if(n)return console.error("❌ Signed URL generation failed:",n),"";if(null==r?void 0:r.signedUrl)return console.log("✅ Signed URL generated:",r.signedUrl),r.signedUrl;return console.log("❌ No signed URL returned from Supabase"),""}catch(e){return console.error("❌ Signed URL exception:",e),""}},x=async(e,t)=>await u(e,3600,t),h=async(e,t)=>{let{data:s,error:i}=await c.from("client_users").select("role").eq("user_id",e).eq("client_id",t).eq("status","active").single();return i?(console.error("Error fetching user role:",i),null):(null==s?void 0:s.role)||null},g=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,s="delivery-records-".concat(e,"-").concat(t);if(m.has(s))return m.get(s);let i=(async()=>{try{let s=new AbortController,i=setTimeout(()=>s.abort(),3e4),a=await fetch("/api/delivery-records?clientId=".concat(e,"&limit=").concat(t),{signal:s.signal});if(clearTimeout(i),!a.ok)throw Error("HTTP ".concat(a.status,": Failed to fetch delivery records"));let l=await a.json();if(!l.success)throw Error(l.error||"Failed to fetch delivery records");return l.data||[]}catch(t){return t instanceof Error&&"AbortError"===t.name?console.error("⏰ Delivery records request timed out for clientId:",e):console.error("❌ Error fetching delivery records for clientId:",e,t),[]}finally{m.delete(s)}})();return m.set(s,i),i},p=async e=>{let t="compliance-alerts-".concat(e);if(m.has(t))return m.get(t);let s=(async()=>{try{let t=new AbortController,s=setTimeout(()=>t.abort(),3e4),i=await fetch("/api/compliance-alerts?clientId=".concat(e),{signal:t.signal});if(clearTimeout(s),!i.ok)return console.warn("⚠️ Compliance alerts API not configured for demo mode"),[];let a=await i.json();if(!a.success)return[];return a.data||[]}catch(e){return e instanceof Error&&"AbortError"===e.name?console.warn("⏰ Compliance alerts request timed out"):console.warn("⚠️ Compliance alerts not available in demo mode"),[]}finally{m.delete(t)}})();return m.set(t,s),s};var f=s(9509);let v=null;try{let e="https://rggdywqnvpuwssluzfud.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJnZ2R5d3FudnB1d3NzbHV6ZnVkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQzOTIwMTAsImV4cCI6MjA2OTk2ODAxMH0.j1AiBUEfjqVxLu8ARtH5B_DBKI1dg2EKgp_VZtprAzg",s=f.env.SUPABASE_SERVICE_ROLE_KEY;e&&t&&(v=(0,i.UU)(e,t,{auth:{persistSession:!0,autoRefreshToken:!0,storageKey:"hospitality-compliance-auth"}})),e&&s&&(0,i.UU)(e,s,{auth:{autoRefreshToken:!1,persistSession:!1}})}catch(e){console.warn("Supabase client initialization failed:",e instanceof Error?e.message:"Unknown error")}let b=v;console.log("\uD83D\uDE80 Database Core lib loaded - Modular Architecture v1.8.19")},5506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var i=s(5155),a=s(2115),l=s(1811),r=s(8337),n=s(9212);function c(e){let{imagePath:t,alt:s,className:r,onError:n,onLoad:c}=e,[o,d]=(0,a.useState)(""),[m,u]=(0,a.useState)(!0),[x,h]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{(async()=>{if(!t){d("/placeholder-image.png"),u(!1);return}try{console.log("\uD83D\uDD0D Checking bucket structure for path:",t);let s=t.split("/"),i=s.slice(0,-1).join("/"),{data:a,error:r}=await l.supabase.storage.from("delivery-dockets").list(i||"",{limit:10});if(a){var e;console.log("\uD83D\uDCC1 Bucket contents in",i,":",a.map(e=>e.name));let l=null==(e=t.split("/").pop())?void 0:e.split(".")[0],r=a.find(e=>e.name.startsWith(l||"")&&(e.name.endsWith(".jpeg")||e.name.endsWith(".jpg")||e.name.endsWith(".HEIC")||e.name.endsWith(".png")));if(r){console.log("\uD83C\uDFAF Found actual file:",r.name,"instead of:",t);let e=[...s.slice(0,-1),r.name].join("/");console.log("\uD83D\uDD04 Using corrected path:",e),t=e}}console.log("\uD83D\uDDBC️ Loading image with public URL for:",t);let{data:n}=l.supabase.storage.from("delivery-dockets").getPublicUrl(t);console.log("✅ Public URL generated:",n.publicUrl),d(n.publicUrl);{let e=document.createElement("img");e.onload=()=>{console.log("✅ Public URL confirmed working")},e.onerror=async()=>{console.warn("⚠️ Public URL failed, trying signed URL fallback");try{let{data:e,error:s}=await l.supabase.storage.from("delivery-dockets").createSignedUrl(t,3600);!s&&e?(console.log("\uD83D\uDD04 Using signed URL fallback:",e.signedUrl),d(e.signedUrl)):(console.error("❌ Both public and signed URLs failed"),h(!0))}catch(e){console.error("❌ Signed URL fallback failed:",e),h(!0)}},e.src=n.publicUrl}}catch(e){console.error("❌ Image URL generation failed:",e),h(!0)}finally{u(!1)}})()},[t]),m)?(0,i.jsx)("div",{className:"".concat(r," flex items-center justify-center bg-slate-800"),children:(0,i.jsx)("div",{className:"animate-spin h-8 w-8 border-2 border-blue-400 border-t-transparent rounded-full"})}):x||!o?(0,i.jsx)("div",{className:"".concat(r," flex items-center justify-center bg-slate-800 text-center p-4"),children:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-4xl mb-2",children:"❌"}),(0,i.jsx)("div",{className:"text-sm text-red-300",children:"Image Load Failed"}),(0,i.jsxs)("div",{className:"text-xs text-slate-400 mt-2",children:["Path: ",t]})]})}):(0,i.jsx)("img",{src:o,alt:s,className:r,onLoad:c,onError:e=>{console.error("❌ Image failed to load:",{path:t,url:o}),h(!0),null==n||n(e)}})}function o(){var e,t,s,o,d,m,u,x,h;let[g,p]=(0,a.useState)([]),[f,v]=(0,a.useState)(0),[b,j]=(0,a.useState)(!0),[_,y]=(0,a.useState)(!1),[N,w]=(0,a.useState)(null),[C,I]=(0,a.useState)(Date.now());(0,a.useEffect)(()=>{k(),I(Date.now())},[]);let k=async()=>{try{let{data:e}=await l.supabase.from("ai_training_corrections").select("delivery_record_id"),t=(null==e?void 0:e.map(e=>e.delivery_record_id))||[],s=l.supabase.from("delivery_records").select("*").eq("client_id","a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11").neq("processing_status","failed").order("created_at",{ascending:!1}).limit(50);t.length>0&&(s=s.not("id","in","(".concat(t.join(","),")")));let{data:i,error:a}=await s;if(!i||0===i.length){console.log("\uD83D\uDD04 No successful records found, including failed records..."),s=l.supabase.from("delivery_records").select("*").order("created_at",{ascending:!1}).limit(50),t.length>0&&(s=s.not("id","in","(".concat(t.join(","),")")));let e=await s;i=e.data,a=e.error}if(a)return void console.error("Error loading records:",a);if(console.log("\uD83D\uDCCB Found ".concat((null==i?void 0:i.length)||0," unreviewed records")),i&&i.length>0){console.log("\uD83D\uDD0D Verifying file existence for all records...");let e=[];for(let t of i){if(!t.image_path){console.log("⚠️ Skipping record ".concat(t.id," - no image path"));continue}try{let s=t.image_path.split("/"),i=s.slice(0,-1).join("/"),{data:a}=await l.supabase.storage.from("delivery-dockets").list(i||"",{limit:100}),r=s[s.length-1];(null==a?void 0:a.some(e=>e.name===r))?(console.log("✅ File verified for record ".concat(t.id,": ").concat(t.image_path)),e.push(t)):console.log("❌ File missing for record ".concat(t.id,": ").concat(t.image_path))}catch(e){console.error("❌ File verification failed for record ".concat(t.id,":"),e)}}console.log("\uD83D\uDCC1 ".concat(e.length," records have actual files out of ").concat(i.length," total records")),p(e)}else p([]);j(!1)}catch(e){console.error("Error loading records:",e),j(!1)}},E=g[f],U=e=>{if(!E)return;let t={supplier_name:E.supplier_name,delivery_date:E.delivery_date,temperatures:E.extracted_temperatures,products:E.products,line_items:E.extracted_line_items,confidence_score:E.confidence_score};w({delivery_record_id:E.id,original_extraction:t,corrected_extraction:{...t},correction_type:e,fields_corrected:[],reviewer_confidence:"high",notes:""})},S=(e,t)=>{N&&w({...N,corrected_extraction:{...N.corrected_extraction,[e]:t},fields_corrected:N.fields_corrected.includes(e)?N.fields_corrected:[...N.fields_corrected,e]})},A=async()=>{if(N&&E){y(!0);try{let e=Math.floor((Date.now()-C)/1e3),{error:t}=await l.supabase.from("ai_training_corrections").insert({delivery_record_id:N.delivery_record_id,client_id:E.client_id,original_extraction:N.original_extraction,original_confidence_scores:E.confidence_scores,corrected_extraction:N.corrected_extraction,correction_type:N.correction_type,fields_corrected:N.fields_corrected,review_time_seconds:e,reviewer_confidence:N.reviewer_confidence,notes:N.notes});if(t)return void console.error("Error saving correction:",t);f<g.length-1?v(f+1):(k(),v(0)),w(null),I(Date.now())}catch(e){console.error("Error saving correction:",e)}finally{y(!1)}}};return b?(0,i.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 p-4 flex items-center justify-center",children:(0,i.jsx)("div",{className:(0,r.ed)("primary"),children:(0,i.jsxs)("div",{className:"p-8 text-center",children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),(0,i.jsx)("p",{className:(0,r.$$)("body"),children:"Loading training data..."})]})})}):E?(0,i.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 p-4",children:(0,i.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,i.jsx)(n.A,{}),(0,i.jsx)("div",{className:(0,r.ed)("primary"),children:(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,i.jsx)("h1",{className:"".concat((0,r.$$)("pageTitle")," text-white"),children:"AI Training Review"}),(0,i.jsxs)("div",{className:"text-sm text-slate-300",children:[f+1," of ",g.length]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,i.jsxs)("div",{className:"text-sm text-slate-300",children:[(0,i.jsx)("strong",{children:"Supplier:"})," ",E.supplier_name||"Unknown"]}),(0,i.jsxs)("div",{className:"text-sm text-slate-300",children:[(0,i.jsx)("strong",{children:"Date:"})," ",E.delivery_date||"Unknown"]}),(0,i.jsxs)("div",{className:"text-sm text-slate-300",children:[(0,i.jsx)("strong",{children:"Distinct Items:"})," ",E.distinct_product_count||(null==(e=E.products)?void 0:e.length)||0]}),(0,i.jsxs)("div",{className:"text-sm text-slate-300",children:[(0,i.jsx)("strong",{children:"AI Confidence:"})," ",(100*E.confidence_score).toFixed(1),"%"]})]})]})}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[(0,i.jsx)("div",{className:(0,r.ed)("secondary"),children:(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsx)("h3",{className:"".concat((0,r.$$)("sectionTitle")," text-white mb-4"),children:"Original Document"}),(0,i.jsxs)("div",{className:"relative aspect-[3/4] bg-slate-800 rounded-lg overflow-hidden",children:[E.image_path?(0,i.jsx)(c,{imagePath:E.image_path,alt:"Delivery Docket",className:"w-full h-full object-contain",onLoad:()=>{console.log("✅ Image loaded successfully:",E.image_path);let e=document.getElementById("image-fallback");e&&(e.style.display="none")}}):null,(0,i.jsx)("div",{className:"w-full h-full flex items-center justify-center text-white absolute inset-0",id:"image-fallback",children:(0,i.jsxs)("div",{className:"text-center p-4",children:[(0,i.jsx)("div",{className:"text-4xl mb-2",children:"\uD83D\uDCC4"}),(0,i.jsx)("div",{className:"text-sm text-slate-300",children:"Delivery Docket"}),(0,i.jsxs)("div",{className:"text-xs text-slate-400 mt-2",children:["File: ",E.image_path||"No path"]}),(0,i.jsx)("div",{className:"text-xs text-slate-500 mt-1",children:"Loading image..."})]})}),(0,i.jsxs)("div",{className:"absolute bottom-2 left-2 right-2 bg-black/50 text-white text-xs p-2 rounded opacity-0 hover:opacity-100 transition-opacity",children:["Path: ",E.image_path||"No path"]})]})]})}),(0,i.jsx)("div",{className:(0,r.ed)("secondary"),children:(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsx)("h3",{className:"".concat((0,r.$$)("sectionTitle")," text-white mb-4"),children:"AI Extracted Data"}),N?(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("div",{className:"flex items-center gap-2 mb-4",children:(0,i.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat("correct"===N.correction_type?"bg-green-100 text-green-800":"wrong"===N.correction_type?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:N.correction_type.toUpperCase()})}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Supplier Name"}),(0,i.jsx)("input",{type:"text",value:N.corrected_extraction.supplier_name||"",onChange:e=>S("supplier_name",e.target.value),className:(0,r._c)()})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Delivery Date"}),(0,i.jsx)("input",{type:"date",value:(null==(u=N.corrected_extraction.delivery_date)?void 0:u.split("T")[0])||"",onChange:e=>S("delivery_date",e.target.value),className:(0,r._c)()})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:'Temperature Readings (comma separated, e.g. "4\xb0C, -18\xb0F")'}),(0,i.jsx)("input",{type:"text",value:(null==(x=N.corrected_extraction.temperatures)?void 0:x.map(e=>"".concat(e.value,"\xb0").concat(e.unit)).join(", "))||"",onChange:e=>{S("temperatures",e.target.value.split(",").map(e=>{let t=e.trim().match(/(-?\d+\.?\d*)[°]?([CF]?)/i);return t?{value:parseFloat(t[1]),unit:t[2]||"C",context:"manual correction"}:null}).filter(Boolean))},className:(0,r._c)()})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Products (comma separated)"}),(0,i.jsx)("input",{type:"text",value:(null==(h=N.corrected_extraction.products)?void 0:h.join(", "))||"",onChange:e=>S("products",e.target.value.split(",").map(e=>e.trim())),className:(0,r._c)()})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Your Confidence in this Correction"}),(0,i.jsxs)("select",{value:N.reviewer_confidence,onChange:e=>w({...N,reviewer_confidence:e.target.value}),className:(0,r._c)(),children:[(0,i.jsx)("option",{value:"high",children:"High - Very confident"}),(0,i.jsx)("option",{value:"medium",children:"Medium - Somewhat confident"}),(0,i.jsx)("option",{value:"low",children:"Low - Uncertain"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Notes (optional)"}),(0,i.jsx)("textarea",{value:N.notes,onChange:e=>w({...N,notes:e.target.value}),className:(0,r._c)(),rows:3,placeholder:"Any additional notes about this correction..."})]})]}),(0,i.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,i.jsx)("button",{onClick:()=>w(null),className:"bg-slate-600 hover:bg-slate-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"Cancel"}),(0,i.jsx)("button",{onClick:A,disabled:_,className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:_?"Saving...":"Save & Next"})]})]}):(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,i.jsx)("button",{onClick:()=>U("correct"),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-3 rounded-lg font-medium transition-colors",children:"✅ Correct"}),(0,i.jsx)("button",{onClick:()=>U("wrong"),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-3 rounded-lg font-medium transition-colors",children:"❌ Wrong"}),(0,i.jsx)("button",{onClick:()=>U("missing"),className:"bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-3 rounded-lg font-medium transition-colors",children:"➕ Missing"})]}),(0,i.jsxs)("div",{className:"space-y-3 mt-6",children:[(0,i.jsxs)("div",{className:"p-3 bg-slate-800 rounded-lg",children:[(0,i.jsx)("label",{className:"text-sm font-medium text-slate-300",children:"Supplier"}),(0,i.jsx)("div",{className:"text-white",children:E.supplier_name||"Not detected"})]}),(0,i.jsxs)("div",{className:"p-3 bg-slate-800 rounded-lg",children:[(0,i.jsx)("label",{className:"text-sm font-medium text-slate-300",children:"Delivery Date"}),(0,i.jsx)("div",{className:"text-white",children:E.delivery_date||"Not detected"})]}),(0,i.jsxs)("div",{className:"p-3 bg-slate-800 rounded-lg",children:[(0,i.jsx)("label",{className:"text-sm font-medium text-slate-300",children:"Temperatures"}),(0,i.jsx)("div",{className:"text-white",children:(null==(t=E.extracted_temperatures)?void 0:t.length)>0?E.extracted_temperatures.map((e,t)=>"".concat(e.value,"\xb0").concat(e.unit)).join(", "):"None detected"})]}),(0,i.jsxs)("div",{className:"p-3 bg-slate-800 rounded-lg",children:[(0,i.jsx)("label",{className:"text-sm font-medium text-slate-300",children:"Products"}),(0,i.jsx)("div",{className:"text-white",children:(null==(s=E.products)?void 0:s.length)>0?E.products.join(", "):"None detected"})]}),(0,i.jsxs)("div",{className:"p-3 bg-slate-800 rounded-lg",children:[(0,i.jsx)("label",{className:"text-sm font-medium text-slate-300",children:"Product Categories"}),(0,i.jsx)("div",{className:"flex gap-2 mt-2",children:(null==(o=E.product_classification)?void 0:o.summary)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"flex items-center gap-1 text-sm bg-blue-900/30 text-blue-300 px-2 py-1 rounded",children:["❄️ ",E.product_classification.summary.frozenCount||0," Frozen"]}),(0,i.jsxs)("div",{className:"flex items-center gap-1 text-sm bg-cyan-900/30 text-cyan-300 px-2 py-1 rounded",children:["\uD83E\uDDCA ",E.product_classification.summary.chilledCount||0," Chilled"]}),(0,i.jsxs)("div",{className:"flex items-center gap-1 text-sm bg-green-900/30 text-green-300 px-2 py-1 rounded",children:["\uD83C\uDF21️ ",E.product_classification.summary.ambientCount||0," Ambient"]}),(E.product_classification.summary.unclassifiedCount||0)>0&&(0,i.jsxs)("div",{className:"flex items-center gap-1 text-sm bg-gray-900/30 text-gray-300 px-2 py-1 rounded",children:["❓ ",E.product_classification.summary.unclassifiedCount," Unknown"]})]}):(0,i.jsx)("div",{className:"text-slate-400 text-sm",children:"Categories not analyzed"})})]}),(0,i.jsxs)("div",{className:"p-3 bg-slate-800 rounded-lg",children:[(0,i.jsx)("label",{className:"text-sm font-medium text-slate-300",children:"Line Item Analysis"}),(0,i.jsxs)("div",{className:"text-white space-y-1",children:[(0,i.jsxs)("div",{children:["Distinct Products: ",(0,i.jsx)("span",{className:"font-semibold",children:E.distinct_product_count||0})]}),E.line_item_analysis&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{children:["Total Line Items: ",(0,i.jsx)("span",{className:"font-semibold",children:E.line_item_analysis.totalLineItems||0})]}),(0,i.jsxs)("div",{children:["Extraction Method: ",(0,i.jsx)("span",{className:"font-semibold capitalize",children:(null==(d=E.line_item_analysis.analysis)?void 0:d.extractionMethod)||"unknown"})]}),((null==(m=E.line_item_analysis.analysis)?void 0:m.duplicatesFound)||0)>0&&(0,i.jsxs)("div",{className:"text-yellow-400",children:["Duplicates Found: ",E.line_item_analysis.analysis.duplicatesFound]})]})]})]})]}),(0,i.jsx)("div",{className:"flex gap-3 mt-6",children:(0,i.jsx)("button",{onClick:()=>{f<g.length-1&&(v(f+1),w(null),I(Date.now()))},className:"flex-1 bg-slate-600 hover:bg-slate-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"Skip"})})]})]})})]})]})}):(0,i.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 p-4 flex items-center justify-center",children:(0,i.jsx)("div",{className:(0,r.ed)("primary"),children:(0,i.jsxs)("div",{className:"p-8 text-center",children:[(0,i.jsx)("h2",{className:"".concat((0,r.$$)("pageTitle")," text-white mb-4"),children:"Training Complete!"}),(0,i.jsx)("p",{className:(0,r.$$)("body"),children:"All available records have been reviewed for training."})]})})})}},5695:(e,t,s)=>{"use strict";var i=s(8999);s.o(i,"redirect")&&s.d(t,{redirect:function(){return i.redirect}}),s.o(i,"usePathname")&&s.d(t,{usePathname:function(){return i.usePathname}}),s.o(i,"useRouter")&&s.d(t,{useRouter:function(){return i.useRouter}})},9212:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var i=s(5155),a=s(6874),l=s.n(a),r=s(5695),n=s(8337);function c(){let e=(0,r.usePathname)();return(0,i.jsx)("div",{className:(0,n.ed)("primary"),children:(0,i.jsx)("div",{className:"p-4",children:(0,i.jsx)("div",{className:"flex flex-col sm:flex-row gap-2",children:[{href:"/upload/bulk-training",label:"\uD83D\uDCC1 Bulk Upload",description:"Upload large docket collections"},{href:"/upload/training",label:"✏️ Review & Correct",description:"Review AI extractions"},{href:"/upload/training-analytics",label:"\uD83D\uDCCA Analytics & Export",description:"View progress & export training data"},{href:"/upload/debug-training",label:"\uD83D\uDD27 Debug",description:"Debug database records"}].map(t=>{let s=e===t.href;return(0,i.jsxs)(l(),{href:t.href,className:"flex-1 px-4 py-3 rounded-lg text-center transition-colors ".concat(s?"bg-blue-600 text-white":"bg-slate-700/50 text-slate-300 hover:bg-slate-600/50 hover:text-white"),children:[(0,i.jsx)("div",{className:"font-medium text-sm",children:t.label}),(0,i.jsx)("div",{className:"text-xs opacity-75",children:t.description})]},t.href)})})})})}}},e=>{e.O(0,[9535,6874,8337,8441,5964,7358],()=>e(e.s=1288)),_N_E=e.O()}]);