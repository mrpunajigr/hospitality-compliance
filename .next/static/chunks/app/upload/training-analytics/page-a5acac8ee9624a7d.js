(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5832],{1023:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var a=s(5155),l=s(2115),r=s(8337),i=s(9212);function c(){var e,t;let[s,c]=(0,l.useState)(null),[n,d]=(0,l.useState)(null),[o,x]=(0,l.useState)(!0),[m,h]=(0,l.useState)(!1);(0,l.useEffect)(()=>{u()},[]);let u=async()=>{try{console.log("Analytics APIs temporarily disabled to avoid 500 errors")}catch(e){console.error("Error loading analytics:",e)}finally{x(!1)}},g=async e=>{h(!0);try{let t=await fetch("/api/export-training-data?clientId=demo-client-id&format=".concat(e));if(t.ok){let s=await t.blob(),a=window.URL.createObjectURL(s),l=document.createElement("a");l.href=a,l.download="training-data-".concat(e,"-").concat(new Date().toISOString().split("T")[0],".").concat("jsonl"===e?"jsonl":"json"),document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(a),document.body.removeChild(l)}else console.error("Export failed:",await t.text())}catch(e){console.error("Export error:",e)}finally{h(!1)}};if(o)return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 p-4 flex items-center justify-center",children:(0,a.jsx)("div",{className:(0,r.ed)("primary"),children:(0,a.jsxs)("div",{className:"p-8 text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),(0,a.jsx)("p",{className:(0,r.$$)("body"),children:"Loading analytics..."})]})})});let p=e=>e>=90?"text-green-400":e>=70?"text-yellow-400":"text-red-400",j=(null!=(t=null==s||null==(e=s.accuracyTrend)?void 0:e.length)?t:0)>0?s.accuracyTrend.reduce((e,t)=>e+t.accuracy_score,0)/s.accuracyTrend.length:0;return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 p-4",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,a.jsx)(i.A,{}),(0,a.jsx)("div",{className:(0,r.ed)("primary"),children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h1",{className:"".concat((0,r.$$)("pageTitle")," text-white mb-2"),children:"AI Training Analytics"}),(0,a.jsx)("p",{className:"".concat((0,r.$$)("body")," text-slate-300"),children:"Track AI accuracy improvements and training data quality"})]})}),s&&(0,a.jsx)("div",{className:(0,r.ed)("secondary"),children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h2",{className:"".concat((0,r.$$)("sectionTitle")," text-white mb-4"),children:"Training Review Progress"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-slate-800/50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-white",children:s.totalCorrections}),(0,a.jsx)("div",{className:"text-sm text-slate-400",children:"Total Reviews"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-blue-900/30 rounded-lg",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-blue-400",children:s.correctionsToday}),(0,a.jsx)("div",{className:"text-sm text-slate-400",children:"Reviews Today"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-purple-900/30 rounded-lg",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-purple-400",children:(e=>{let t=Math.floor(e/60),s=e%60;return t>0?"".concat(t,"m ").concat(s,"s"):"".concat(s,"s")})(s.averageReviewTime)}),(0,a.jsx)("div",{className:"text-sm text-slate-400",children:"Avg Review Time"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-green-900/30 rounded-lg",children:[(0,a.jsxs)("div",{className:"text-3xl font-bold ".concat(p(j)),children:[j.toFixed(1),"%"]}),(0,a.jsx)("div",{className:"text-sm text-slate-400",children:"Overall Accuracy"})]})]}),s.accuracyTrend.length>0&&(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-white mb-3",children:"Correction Types"}),(0,a.jsx)("div",{className:"space-y-2",children:s.accuracyTrend.map((e,t)=>{let l=s.totalCorrections>0?e.correction_count/s.totalCorrections*100:0;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-800/30 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat("correct"===e.correction_type?"bg-green-100 text-green-800":"wrong"===e.correction_type?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:e.correction_type.toUpperCase()}),(0,a.jsxs)("span",{className:"text-white",children:[e.correction_count," reviews"]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-sm text-slate-400",children:[l.toFixed(1),"%"]}),(0,a.jsxs)("div",{className:"text-sm font-medium ".concat(p(e.accuracy_score)),children:[e.accuracy_score.toFixed(1),"% accuracy"]})]})]},t)})})]})]})}),n&&(0,a.jsx)("div",{className:(0,r.ed)("secondary"),children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h2",{className:"".concat((0,r.$$)("sectionTitle")," text-white mb-4"),children:"Bulk Processing Status"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-slate-800/50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-white",children:n.totalBulkRecords}),(0,a.jsx)("div",{className:"text-sm text-slate-400",children:"Total Uploaded"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-green-900/30 rounded-lg",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-green-400",children:n.completedProcessing}),(0,a.jsx)("div",{className:"text-sm text-slate-400",children:"Successfully Processed"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-red-900/30 rounded-lg",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-red-400",children:n.failedProcessing}),(0,a.jsx)("div",{className:"text-sm text-slate-400",children:"Failed Processing"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-blue-900/30 rounded-lg",children:[(0,a.jsxs)("div",{className:"text-3xl font-bold ".concat(p(100*n.averageConfidence)),children:[(100*n.averageConfidence).toFixed(1),"%"]}),(0,a.jsx)("div",{className:"text-sm text-slate-400",children:"Avg AI Confidence"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-yellow-900/30 rounded-lg",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-yellow-400",children:n.readyForTraining}),(0,a.jsx)("div",{className:"text-sm text-slate-400",children:"Ready for Training"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-purple-900/30 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:n.lastBulkUpload?new Date(n.lastBulkUpload).toLocaleDateString():"Never"}),(0,a.jsx)("div",{className:"text-sm text-slate-400",children:"Last Upload"})]})]})]})}),(0,a.jsx)("div",{className:(0,r.ed)("primary"),children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h2",{className:"".concat((0,r.$$)("sectionTitle")," text-white mb-4"),children:"Export Training Data"}),(0,a.jsx)("p",{className:"".concat((0,r.$$)("body")," text-slate-300 mb-6"),children:"Export human-corrected training data for Google Cloud AI model improvement"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsx)("button",{onClick:()=>g("automl"),disabled:m,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:"Export for AutoML"}),(0,a.jsx)("button",{onClick:()=>g("documentai"),disabled:m,className:"bg-green-600 hover:bg-green-700 disabled:bg-green-400 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:"Export for Document AI"}),(0,a.jsx)("button",{onClick:()=>g("jsonl"),disabled:m,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:"Export as JSONL"})]}),m&&(0,a.jsx)("div",{className:"mt-4 text-center",children:(0,a.jsxs)("div",{className:"inline-flex items-center space-x-2 text-blue-400",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-400"}),(0,a.jsx)("span",{children:"Exporting training data..."})]})}),(0,a.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,a.jsx)("div",{className:"flex justify-between items-center",children:(0,a.jsx)("h3",{className:"text-lg font-medium text-white",children:"Quick Actions"})}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,a.jsx)("a",{href:"/upload/bulk-training",className:"bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"\uD83D\uDCC1 Bulk Upload Dockets"}),(0,a.jsx)("a",{href:"/upload/training",className:"bg-orange-600 hover:bg-orange-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"✏️ Review & Correct AI Data"}),(0,a.jsx)("a",{href:"/console/dashboard",className:"bg-slate-600 hover:bg-slate-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"\uD83D\uDCCA View Dashboard"})]})]})]})}),(0,a.jsx)("div",{className:(0,r.ed)("secondary"),children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h2",{className:"".concat((0,r.$$)("sectionTitle")," text-white mb-4"),children:"Training Workflow"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"bg-blue-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:"1"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-white font-medium",children:"Bulk Upload Documents"}),(0,a.jsx)("p",{className:"text-slate-400 text-sm",children:"Upload your large collection of delivery dockets for AI processing"})]})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"bg-blue-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:"2"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-white font-medium",children:"Review AI Extractions"}),(0,a.jsx)("p",{className:"text-slate-400 text-sm",children:"Correct AI mistakes and mark good extractions to improve accuracy"})]})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"bg-blue-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:"3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-white font-medium",children:"Export Training Data"}),(0,a.jsx)("p",{className:"text-slate-400 text-sm",children:"Generate formatted training data for Google Cloud AI model training"})]})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"bg-green-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:"4"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-white font-medium",children:"Retrain AI Model"}),(0,a.jsx)("p",{className:"text-slate-400 text-sm",children:"Use exported data to create custom Google Cloud Document AI processor"})]})]})]})]})})]})})}},5695:(e,t,s)=>{"use strict";var a=s(8999);s.o(a,"redirect")&&s.d(t,{redirect:function(){return a.redirect}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},7675:(e,t,s)=>{Promise.resolve().then(s.bind(s,1023))},9212:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var a=s(5155),l=s(6874),r=s.n(l),i=s(5695),c=s(8337);function n(){let e=(0,i.usePathname)();return(0,a.jsx)("div",{className:(0,c.ed)("primary"),children:(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)("div",{className:"flex flex-col sm:flex-row gap-2",children:[{href:"/upload/bulk-training",label:"\uD83D\uDCC1 Bulk Upload",description:"Upload large docket collections"},{href:"/upload/training",label:"✏️ Review & Correct",description:"Review AI extractions"},{href:"/upload/training-analytics",label:"\uD83D\uDCCA Analytics & Export",description:"View progress & export training data"},{href:"/upload/debug-training",label:"\uD83D\uDD27 Debug",description:"Debug database records"}].map(t=>{let s=e===t.href;return(0,a.jsxs)(r(),{href:t.href,className:"flex-1 px-4 py-3 rounded-lg text-center transition-colors ".concat(s?"bg-blue-600 text-white":"bg-slate-700/50 text-slate-300 hover:bg-slate-600/50 hover:text-white"),children:[(0,a.jsx)("div",{className:"font-medium text-sm",children:t.label}),(0,a.jsx)("div",{className:"text-xs opacity-75",children:t.description})]},t.href)})})})})}}},e=>{e.O(0,[6874,8337,8441,5964,7358],()=>e(e.s=7675)),_N_E=e.O()}]);