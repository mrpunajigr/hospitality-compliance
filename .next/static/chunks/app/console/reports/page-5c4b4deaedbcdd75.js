(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4124],{2684:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var l=s(5155),a=s(2115),r=s(5695),d=s(1811),n=s(5552),i=s(8337);function o(){let[e,t]=(0,a.useState)(null),[s,o]=(0,a.useState)(null),[c,x]=(0,a.useState)(!0),m=(0,r.useRouter)();(0,a.useEffect)(()=>{(async()=>{let{data:{user:e}}=await d.supabase.auth.getUser();if(e){t(e);try{let t=await (0,n.LE)(e.id);t&&o(t)}catch(e){console.error("Error loading client info in reports page:",e)}}else t({id:"a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a01",email:"demo@example.com",app_metadata:{},user_metadata:{full_name:"Demo User"},aud:"authenticated",role:"authenticated",created_at:new Date().toISOString(),updated_at:new Date().toISOString()});x(!1)})();let{data:{subscription:e}}=d.supabase.auth.onAuthStateChange((e,s)=>{(null==s?void 0:s.user)&&t(s.user)});return()=>e.unsubscribe()},[]);let h=async()=>{try{let{data:e,error:s}=await d.supabase.auth.signInAnonymously();if(!s&&e.user)return void console.log("Anonymous demo user signed in successfully");let l={id:"a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a01",email:"demo@example.com",app_metadata:{},user_metadata:{full_name:"Demo User"},aud:"authenticated",role:"authenticated",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};t(l)}catch(e){console.error("Demo sign in error:",e),t({id:"a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a01",email:"demo@example.com",app_metadata:{},user_metadata:{full_name:"Demo User"},aud:"authenticated",role:"authenticated",created_at:new Date().toISOString(),updated_at:new Date().toISOString()})}};return c?(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,l.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,l.jsx)("div",{className:"bg-white/15 backdrop-blur-lg border border-white/20 rounded-2xl p-6 shadow-lg",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-spin h-8 w-8 border-2 border-white border-t-transparent rounded-full mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-white font-medium",children:"Loading Reports..."})]})})})}):e?(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-white drop-shadow-lg",children:"Compliance Reports"}),(0,l.jsx)("p",{className:"text-white/90 text-sm drop-shadow-md",children:"Generate and export compliance documentation"}),s&&(0,l.jsxs)("p",{className:"text-blue-300 text-sm mt-2",children:[s.name," â€¢ ",s.role]})]}),(0,l.jsxs)("div",{className:"flex gap-6",children:[(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsxs)("div",{className:"bg-white/15 backdrop-blur-lg border border-white/20 rounded-2xl p-6 shadow-lg",children:[(0,l.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[(0,l.jsxs)("div",{className:"bg-white/20 backdrop-blur-sm border border-white/20 rounded-xl p-6",children:[(0,l.jsxs)("div",{className:"text-center mb-4",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-blue-500/20 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,l.jsx)("div",{className:"w-6 h-6 bg-blue-600 rounded"})}),(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Weekly Summary"}),(0,l.jsx)("p",{className:"text-sm text-gray-700 mt-2",children:"Comprehensive weekly compliance overview"})]}),(0,l.jsx)("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-xl transition-all duration-200",children:"Generate Report"})]}),(0,l.jsxs)("div",{className:"bg-white/20 backdrop-blur-sm border border-white/20 rounded-xl p-6",children:[(0,l.jsxs)("div",{className:"text-center mb-4",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,l.jsx)("div",{className:"w-6 h-6 bg-red-600 rounded"})}),(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Violation Report"}),(0,l.jsx)("p",{className:"text-sm text-gray-700 mt-2",children:"Delivery violations and corrective actions"})]}),(0,l.jsx)("button",{className:"w-full bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-xl transition-all duration-200",children:"Generate Report"})]}),(0,l.jsxs)("div",{className:"bg-white/20 backdrop-blur-sm border border-white/20 rounded-xl p-6",children:[(0,l.jsxs)("div",{className:"text-center mb-4",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,l.jsx)("div",{className:"w-6 h-6 bg-green-600 rounded"})}),(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Inspector Access"}),(0,l.jsx)("p",{className:"text-sm text-gray-700 mt-2",children:"Generate secure inspector portal link"})]}),(0,l.jsx)("button",{className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-xl transition-all duration-200",children:"Create Access"})]})]}),(0,l.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm border border-white/40 rounded-xl p-6 mb-8",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Reports"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white/60 rounded-xl",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-medium text-gray-900",children:"Weekly Summary - Aug 1-7, 2025"}),(0,l.jsx)("p",{className:"text-sm text-gray-800",children:"Generated on Aug 7, 2025"})]}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsx)("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Download PDF"}),(0,l.jsx)("button",{className:"text-green-600 hover:text-green-700 text-sm font-medium",children:"Export CSV"})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white/60 rounded-xl",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-medium text-gray-900",children:"Delivery Violations - July 2025"}),(0,l.jsx)("p",{className:"text-sm text-gray-800",children:"Generated on Aug 1, 2025"})]}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsx)("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Download PDF"}),(0,l.jsx)("button",{className:"text-green-600 hover:text-green-700 text-sm font-medium",children:"Export CSV"})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white/60 rounded-xl",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-medium text-gray-900",children:"Monthly Compliance - July 2025"}),(0,l.jsx)("p",{className:"text-sm text-gray-800",children:"Generated on Jul 31, 2025"})]}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsx)("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Download PDF"}),(0,l.jsx)("button",{className:"text-green-600 hover:text-green-700 text-sm font-medium",children:"Export CSV"})]})]})]})]})]})}),(0,l.jsxs)("div",{className:"w-64 space-y-6",children:[(0,l.jsxs)("div",{className:"bg-white/15 backdrop-blur-lg border border-white/20 rounded-2xl p-6 shadow-lg",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-white mb-6",children:"Report Actions"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("button",{onClick:()=>m.push("/console/dashboard"),className:"block w-full mb-4 bg-blue-600 hover:bg-blue-700 text-white py-4 px-6 rounded-xl transition-all duration-200 text-left",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-semibold text-lg",children:"View Dashboard"}),(0,l.jsx)("p",{className:"text-sm mt-1 opacity-90",children:"Check compliance metrics"})]})}),(0,l.jsx)("button",{onClick:()=>m.push("/workspace/upload"),className:"block w-full bg-white/20 hover:bg-white/30 text-white py-4 px-6 rounded-xl transition-all duration-200 text-left",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-semibold text-lg",children:"Upload Documents"}),(0,l.jsx)("p",{className:"text-sm mt-1 opacity-90",children:"Add new delivery dockets"})]})})]})]}),(0,l.jsxs)("div",{className:"bg-white/15 backdrop-blur-lg border border-white/20 rounded-2xl p-6 shadow-lg",children:[(0,l.jsx)("h2",{className:"".concat((0,i.$$)("sectionTitle")," text-white mb-6"),children:"Custom Report Builder"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block ".concat((0,i.$$)("label")," text-white mb-2"),children:"Date Range"}),(0,l.jsxs)("select",{className:"w-full px-3 py-2 bg-white/80 border border-gray-300 rounded-xl text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,l.jsx)("option",{children:"Last 7 days"}),(0,l.jsx)("option",{children:"Last 30 days"}),(0,l.jsx)("option",{children:"Custom range"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block ".concat((0,i.$$)("label")," text-white mb-2"),children:"Report Type"}),(0,l.jsxs)("select",{className:"w-full px-3 py-2 bg-white/80 border border-gray-300 rounded-xl text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,l.jsx)("option",{children:"Full Compliance"}),(0,l.jsx)("option",{children:"Violations Only"}),(0,l.jsx)("option",{children:"Delivery Summary"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block ".concat((0,i.$$)("label")," text-white mb-2"),children:"Format"}),(0,l.jsxs)("select",{className:"w-full px-3 py-2 bg-white/80 border border-gray-300 rounded-xl text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,l.jsx)("option",{children:"PDF Report"}),(0,l.jsx)("option",{children:"CSV Export"}),(0,l.jsx)("option",{children:"Excel Workbook"})]})]})]}),(0,l.jsx)("button",{className:"w-full mt-6 bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 px-4 rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl",children:"Generate Custom Report"})]})]})]})]}):(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,l.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,l.jsx)("div",{className:"bg-white/15 backdrop-blur-lg border border-white/20 rounded-2xl p-6 shadow-lg max-w-md w-full",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"Compliance Reports"}),(0,l.jsx)("p",{className:"text-white/80 text-sm mb-6",children:"Please sign in to view reports"}),(0,l.jsx)("button",{onClick:h,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-[1.02] mb-4",children:"Sign In as Demo User"}),(0,l.jsx)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3 border border-white/20",children:(0,l.jsx)("p",{className:"text-xs text-white/80",children:"Demo mode with test compliance data"})})]})})})})}},5695:(e,t,s)=>{"use strict";var l=s(8999);s.o(l,"redirect")&&s.d(t,{redirect:function(){return l.redirect}}),s.o(l,"usePathname")&&s.d(t,{usePathname:function(){return l.usePathname}}),s.o(l,"useRouter")&&s.d(t,{useRouter:function(){return l.useRouter}})},6411:(e,t,s)=>{Promise.resolve().then(s.bind(s,2684))}},e=>{e.O(0,[9535,8337,5552,8441,5964,7358],()=>e(e.s=6411)),_N_E=e.O()}]);