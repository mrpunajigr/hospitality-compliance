(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6848],{5695:(e,s,t)=>{"use strict";var l=t(8999);t.o(l,"redirect")&&t.d(s,{redirect:function(){return l.redirect}}),t.o(l,"usePathname")&&t.d(s,{usePathname:function(){return l.usePathname}}),t.o(l,"useRouter")&&t.d(s,{useRouter:function(){return l.useRouter}})},6733:(e,s,t)=>{Promise.resolve().then(t.bind(t,6774))},6774:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var l=t(5155),a=t(2115),i=t(5695),r=t(1811),n=t(8337);function c(e){var s,t,a,i,r,c,d,o;let{deliveryRecord:x}=e;if(!(null==x||null==(s=x.result)?void 0:s.enhancedExtraction))return(0,l.jsx)("div",{className:(0,n.ed)("secondary"),children:(0,l.jsx)("div",{className:"p-4",children:(0,l.jsx)("div",{className:"".concat((0,n.$$)("body")," text-red-400"),children:"No extraction data available"})})});let u=x.result.enhancedExtraction,m=null==(a=u.temperatureData)||null==(t=a.readings)?void 0:t[0],h=(null==(i=u.supplier)?void 0:i.value)||"Unknown Supplier",p=(null==(r=u.deliveryDate)?void 0:r.value)||"",g=(null==(c=u.analysis)?void 0:c.itemCount)||0,b=(null==(d=u.analysis)?void 0:d.overallConfidence)||0;return(0,l.jsx)("div",{className:(0,n.ed)("secondary"),children:(0,l.jsxs)("div",{className:"p-4 space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-white/10 rounded-lg flex items-center justify-center flex-shrink-0",children:x.preview?(0,l.jsx)("img",{src:x.preview,alt:"Delivery docket",className:"w-16 h-16 object-cover rounded-lg"}):(0,l.jsx)("span",{className:"text-white/60 text-2xl",children:"\uD83D\uDCC4"})}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsx)("h4",{className:"".concat((0,n.$$)("cardTitle")," text-white font-semibold truncate"),children:h}),(0,l.jsx)("div",{className:"".concat((0,n.$$)("body")," text-white/70 text-sm"),children:function(e){try{return new Date(e).toLocaleDateString("en-NZ",{day:"2-digit",month:"short",year:"numeric"})}catch{return e}}(p)}),(0,l.jsx)("div",{className:"".concat((0,n.$$)("body")," text-white/60 text-xs"),children:x.file.name})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,l.jsxs)("div",{className:"bg-white/5 rounded-lg p-3",children:[(0,l.jsx)("div",{className:"".concat((0,n.$$)("body")," text-white/60 text-xs uppercase tracking-wide mb-1"),children:"Products"}),(0,l.jsx)("div",{className:"".concat((0,n.$$)("cardTitle")," text-white font-bold"),children:g})]}),(0,l.jsxs)("div",{className:"bg-white/5 rounded-lg p-3",children:[(0,l.jsx)("div",{className:"".concat((0,n.$$)("body")," text-white/60 text-xs uppercase tracking-wide mb-1"),children:"Temperature"}),(0,l.jsx)("div",{className:"".concat((0,n.$$)("cardTitle")," font-bold ").concat(m?(o=m.value)<=4?"text-green-400":o<=7?"text-yellow-400":"text-red-400":"text-white/60"),children:m?"".concat(m.value,"\xb0").concat(m.unit):"N/A"})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("div",{className:"px-2 py-1 rounded-md text-xs font-medium ".concat((null==m?void 0:m.complianceStatus)==="pass"?"bg-green-600/20 text-green-300":(null==m?void 0:m.complianceStatus)==="fail"?"bg-red-600/20 text-red-300":"bg-yellow-600/20 text-yellow-300"),children:(null==m?void 0:m.complianceStatus)==="pass"?"✓ Compliant":(null==m?void 0:m.complianceStatus)==="fail"?"✗ Violation":"⚠ Check Required"}),(0,l.jsxs)("div",{className:"".concat((0,n.$$)("body")," text-white/60 text-xs"),children:[(100*b).toFixed(1),"% confidence"]})]}),(0,l.jsxs)("div",{className:"flex space-x-2 pt-2 border-t border-white/10",children:[(0,l.jsx)("button",{className:"flex-1 py-2 text-white/70 hover:text-white text-xs font-medium transition-colors",onClick:()=>{var e;return console.log("View details for:",null==(e=x.result)?void 0:e.deliveryRecordId)},children:"View Details"}),(0,l.jsx)("button",{className:"flex-1 py-2 text-white/70 hover:text-white text-xs font-medium transition-colors",onClick:()=>{var e;return console.log("Download report for:",null==(e=x.result)?void 0:e.deliveryRecordId)},children:"Report"})]})]})})}function d(e){let{uploadFiles:s}=e,t=s.filter(e=>{var s;return"completed"===e.status&&(null==(s=e.result)?void 0:s.enhancedExtraction)});return(console.log("\uD83C\uDFAF Card Container Debug:"),console.log("- Total upload files:",s.length),console.log("- Completed files:",t.length),console.log("- Files with extraction data:",s.filter(e=>{var s;return null==(s=e.result)?void 0:s.enhancedExtraction}).length),0===t.length)?null:(0,l.jsx)("div",{className:(0,n.ed)("primary"),children:(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("h3",{className:"".concat((0,n.$$)("sectionTitle")," text-white mb-4"),children:["\uD83D\uDCCB Delivery Dockets (",t.length," processed)"]}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(e=>(0,l.jsx)(c,{deliveryRecord:e},e.id))})]})})}function o(e){let{clientId:s,userId:t,onUploadSuccess:i,onUploadError:c,onProgressUpdate:o,accept:x="image/*",maxSizeMB:u=8,maxFiles:m=10}=e,h=(0,a.useRef)(null),[p,g]=(0,a.useState)([]),[b,f]=(0,a.useState)(!1),[v,j]=(0,a.useState)(0),N=()=>Date.now().toString()+Math.random().toString(36).substr(2,9),w=async e=>new Promise(s=>{if(!e.type.startsWith("image/"))return void s("");let t=new FileReader;t.onload=e=>{var t;return s((null==(t=e.target)?void 0:t.result)||"")},t.onerror=()=>s(""),t.readAsDataURL(e)}),y=e=>e.size>1024*u*1024?"File too large. Maximum size: ".concat(u,"MB"):e.type.startsWith("image/")?null:"Please select an image file (JPG, PNG)",k=(0,a.useCallback)(async e=>{let s=Array.from(e.target.files||[]);if(0===s.length)return;if(p.length+s.length>m){c&&c("Maximum ".concat(m," files allowed. Please select fewer files."));return}let t=[];for(let e of s){let s=y(e);if(s)t.push({id:N(),file:e,status:"error",progress:0,error:s});else{let s=await w(e);t.push({id:N(),file:e,status:"pending",progress:0,preview:s})}}g(e=>[...e,...t]),h.current&&(h.current.value="")},[p.length,m,u,c]),D=(0,a.useCallback)(e=>{g(s=>s.filter(s=>s.id!==e))},[]),C=(0,a.useCallback)(async e=>{g(s=>s.map(s=>s.id===e?{...s,status:"pending",error:void 0,progress:0}:s))},[]);(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation()},[]),(0,a.useCallback)(async e=>{e.preventDefault(),e.stopPropagation();let s=Array.from(e.dataTransfer.files);if(s.length>0){let e=[];for(let t of s){if(p.length+e.length>=m){null==c||c("Maximum ".concat(m," files allowed"));break}if(t.size>1024*u*1024){null==c||c("File ".concat(t.name," is too large (max ").concat(u,"MB)"));continue}e.push(t)}if(e.length>0){let s=[];for(let t of e){let e=await w(t);s.push({id:N(),file:t,status:"pending",progress:0,preview:e})}g(e=>[...e,...s])}}},[p.length,m,u,c,w,N]);let S=async e=>{let{file:l}=e,a=s||"a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11";if(!l||!t)throw Error("Missing required fields: file or userId");g(s=>s.map(s=>s.id===e.id?{...s,status:"uploading",progress:10}:s));try{let s=new FormData;s.append("file",l),s.append("clientId",a),s.append("userId",t),g(s=>s.map(s=>s.id===e.id?{...s,progress:30}:s));let i=await fetch("/api/upload-docket",{method:"POST",body:s});if(!i.ok){let e=await i.json();throw Error(e.error||"Upload failed")}let n=await i.json();g(s=>s.map(s=>s.id===e.id?{...s,status:"processing",progress:60}:s)),console.log("\uD83D\uDEA8 EMERGENCY: Calling Edge Function directly to bypass API route");let{data:c,error:d}=await r.supabase.functions.invoke("process-delivery-docket",{body:{bucketId:"delivery-dockets",fileName:l.name,imagePath:n.filePath,deliveryRecordId:n.deliveryRecordId,userId:t,clientId:a}});if(d)throw console.error("\uD83D\uDEA8 Edge Function error:",d),Error("Edge Function error: ".concat(d.message));if(!c.success)throw console.error("\uD83D\uDEA8 Edge Function returned success: false:",c),Error("Processing failed: ".concat(c.message));if(console.log("\uD83D\uDCCD RAW Edge Function Response:",c),console.log("\uD83D\uDCCD Response type:",typeof c),console.log("\uD83D\uDCCD Response keys:",Object.keys(c)),console.log("\uD83D\uDCCD Success field:",c.success),console.log("\uD83D\uDCCD Enhanced extraction exists:","enhancedExtraction"in c),console.log("\uD83D\uDCCD Enhanced extraction value:",c.enhancedExtraction),!c.enhancedExtraction)throw console.error("\uD83D\uDEA8 No enhancedExtraction in response - Edge Function not returning data properly"),console.error("\uD83D\uDEA8 Full response:",JSON.stringify(c,null,2)),Error("No extraction data received from processing");let o={deliveryRecordId:c.deliveryRecordId,enhancedExtraction:c.enhancedExtraction};return console.log("\uD83D\uDCCD Mapped enhanced result:",o),g(s=>{let t=s.map(s=>s.id===e.id?{...s,status:"completed",progress:100,result:o}:s);return console.log("\uD83D\uDCCD Updated upload files:",t),console.log("\uD83D\uDCCD Completed files count:",t.filter(e=>"completed"===e.status).length),t}),{...n.deliveryRecord,enhancedProcessingResult:o}}catch(t){let s=t instanceof Error?t.message:"Upload failed";throw g(t=>t.map(t=>t.id===e.id?{...t,status:"error",progress:0,error:s}:t)),t}},E=(0,a.useCallback)(async()=>{let e=p.filter(e=>"pending"===e.status);if(0===e.length)return;f(!0);let s=[],t=0;for(let l of e)try{let a=await S(l);s.push(a),t++,o&&o(t,e.length),j(t/e.length*100)}catch(e){console.error("Failed to upload ".concat(l.file.name,":"),e)}f(!1),s.length>0&&i&&i(s),p.some(e=>"error"===e.status)&&0===s.length&&c&&c("All uploads failed. Please check the files and try again.")},[p,s,t,i,c,o]),$=(0,a.useCallback)(()=>{g([]),j(0)},[]),I=(0,a.useCallback)(()=>{g([]),f(!1),j(0);try{localStorage.removeItem("uploadFiles"),localStorage.removeItem("processingState"),localStorage.removeItem("enhancedUploadState")}catch(e){console.log("Could not clear localStorage:",e)}console.log("\uD83D\uDEA8 Emergency clear executed - all upload states reset")},[]),R={pending:p.filter(e=>"pending"===e.status).length,uploading:p.filter(e=>"uploading"===e.status).length,processing:p.filter(e=>"processing"===e.status).length,completed:p.filter(e=>"completed"===e.status).length,error:p.filter(e=>"error"===e.status).length};return console.log("\uD83D\uDD0D Current status counts:",R),console.log("\uD83D\uDD0D Card rendering condition (completed > 0):",R.completed>0),p.length>0&&console.log("\uD83D\uDD0D Upload files state:",p.map(e=>({id:e.id,status:e.status,hasResult:!!e.result}))),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("div",{className:(0,n.ed)("form"),children:(0,l.jsxs)("div",{className:"p-6 text-center",children:[(0,l.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-blue-100 rounded-full flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCE4"})}),(0,l.jsx)("h3",{className:"".concat((0,n.$$)("sectionTitle")," text-gray-900 mb-2"),children:"Upload Delivery Dockets"}),(0,l.jsxs)("p",{className:"".concat((0,n.$$)("body")," text-gray-600 mb-4"),children:["Select multiple delivery docket images to process (max ",m," files, ",u,"MB each)"]}),(0,l.jsx)("input",{ref:h,type:"file",accept:x,multiple:!0,onChange:k,disabled:b,className:"hidden"}),(0,l.jsx)("button",{onClick:()=>{var e;return null==(e=h.current)?void 0:e.click()},disabled:b||p.length>=m,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-semibold rounded-xl transition-colors",children:0===p.length?"Select Files":"Add More Files"}),p.length>0&&(0,l.jsxs)("div",{className:"mt-4 flex justify-center space-x-4",children:[(0,l.jsx)("button",{onClick:E,disabled:b||0===R.pending,className:"px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-medium rounded-lg transition-colors",children:b?"Processing...":"Upload ".concat(R.pending," Files")}),(0,l.jsx)("button",{onClick:$,disabled:b,className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 disabled:bg-gray-400 text-white font-medium rounded-lg transition-colors",children:"Clear All"}),(0,l.jsx)("button",{onClick:I,className:"px-3 py-2 bg-red-600 hover:bg-red-700 text-white text-sm rounded-lg transition-colors",title:"Emergency clear - use if processing gets stuck",children:"\uD83D\uDEA8 Reset"})]})]})}),p.length>0&&(0,l.jsx)("div",{className:(0,n.ed)("primary"),children:(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,l.jsxs)("h4",{className:"".concat((0,n.$$)("sectionTitle")," text-white"),children:["Upload Queue (",p.length," files)"]}),b&&(0,l.jsxs)("span",{className:"text-white/80 text-sm",children:[Math.round(v),"% Complete"]})]}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[R.pending>0&&(0,l.jsxs)("span",{className:"px-2 py-1 bg-blue-600/20 text-blue-300 rounded text-xs",children:[R.pending," Pending"]}),R.uploading>0&&(0,l.jsxs)("span",{className:"px-2 py-1 bg-yellow-600/20 text-yellow-300 rounded text-xs",children:[R.uploading," Uploading"]}),R.processing>0&&(0,l.jsxs)("span",{className:"px-2 py-1 bg-purple-600/20 text-purple-300 rounded text-xs",children:[R.processing," Processing"]}),R.completed>0&&(0,l.jsxs)("span",{className:"px-2 py-1 bg-green-600/20 text-green-300 rounded text-xs",children:[R.completed," Completed"]}),R.error>0&&(0,l.jsxs)("span",{className:"px-2 py-1 bg-red-600/20 text-red-300 rounded text-xs",children:[R.error," Failed"]})]}),b&&(0,l.jsx)("div",{className:"w-full bg-white/20 rounded-full h-2",children:(0,l.jsx)("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-500",style:{width:"".concat(v,"%")}})})]}),(0,l.jsx)("div",{className:"space-y-3",children:p.map(e=>{var s,t,a,i,r,c;return(0,l.jsxs)("div",{className:"flex items-center space-x-4 p-3 bg-white/10 rounded-xl",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center flex-shrink-0",children:e.preview?(0,l.jsx)("img",{src:e.preview,alt:e.file.name,className:"w-12 h-12 object-cover rounded-lg"}):(0,l.jsx)("span",{className:"text-white text-xl",children:"\uD83D\uDCC4"})}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsx)("div",{className:"".concat((0,n.$$)("body")," text-white font-medium truncate"),children:e.file.name}),(0,l.jsxs)("div",{className:"text-white/60 text-sm",children:[(e.file.size/1024/1024).toFixed(1),"MB"]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:["pending"===e.status&&(0,l.jsx)("span",{className:"text-blue-300 text-sm",children:"Ready"}),("uploading"===e.status||"processing"===e.status)&&(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("div",{className:"w-16 bg-white/20 rounded-full h-1.5",children:(0,l.jsx)("div",{className:"bg-yellow-400 h-1.5 rounded-full transition-all duration-300",style:{width:"".concat(e.progress,"%")}})}),(0,l.jsxs)("span",{className:"text-yellow-300 text-sm w-8",children:[e.progress,"%"]})]}),"completed"===e.status&&e.result&&e.result.enhancedExtraction&&(0,l.jsxs)("div",{className:"flex flex-col items-end",children:[(0,l.jsx)("span",{className:"text-green-300 text-sm",children:"✓ Done"}),(0,l.jsxs)("div",{className:"text-xs text-green-400",children:[(100*((null==(t=e.result.enhancedExtraction)||null==(s=t.analysis)?void 0:s.overallConfidence)||0)).toFixed(1),"% confidence"]}),((null==(i=e.result.enhancedExtraction)||null==(a=i.lineItems)?void 0:a.length)||0)>0&&(0,l.jsxs)("div",{className:"text-xs text-green-400",children:[(null==(c=e.result.enhancedExtraction)||null==(r=c.lineItems)?void 0:r.length)||0," items"]})]}),"error"===e.status&&(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"text-red-300 text-sm",children:"✗ Failed"}),(0,l.jsx)("button",{onClick:()=>C(e.id),className:"px-2 py-1 bg-red-600 hover:bg-red-700 text-white text-xs rounded",children:"Retry"})]}),(0,l.jsx)("button",{onClick:()=>D(e.id),disabled:"uploading"===e.status||"processing"===e.status,className:"text-white/60 hover:text-white disabled:opacity-50",children:"✕"})]})]},e.id)})})]})}),(0,l.jsx)(d,{uploadFiles:p})]})}var x=t(5552);function u(){let[e,s]=(0,a.useState)(null),[t,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(!0),[m,h]=(0,a.useState)(null),[p,g]=(0,a.useState)(!1),b=(0,i.useRouter)();(0,a.useEffect)(()=>{(async()=>{let{data:{user:e}}=await r.supabase.auth.getUser();if(e){s(e);try{let s=await (0,x.LE)(e.id);s&&c(s)}catch(e){console.error("Error loading client info in upload page:",e)}}else s({id:"a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a01",email:"demo@example.com",app_metadata:{},user_metadata:{full_name:"Demo User"},aud:"authenticated",role:"authenticated",created_at:new Date().toISOString(),updated_at:new Date().toISOString()});u(!1)})();let{data:{subscription:e}}=r.supabase.auth.onAuthStateChange((e,t)=>{(null==t?void 0:t.user)&&s(t.user)});return()=>e.unsubscribe()},[]);let f=async()=>{try{let{data:e,error:t}=await r.supabase.auth.signInAnonymously();if(!t&&e.user)return void console.log("Anonymous demo user signed in successfully");let l={id:"a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a01",email:"demo@example.com",app_metadata:{},user_metadata:{full_name:"Demo User"},aud:"authenticated",role:"authenticated",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};s(l)}catch(e){console.error("Demo sign in failed:",e),s({id:"a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a01",email:"demo@example.com",app_metadata:{},user_metadata:{full_name:"Demo User"},aud:"authenticated",role:"authenticated",created_at:new Date().toISOString(),updated_at:new Date().toISOString()})}};return d?(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,l.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,l.jsx)("div",{className:(0,n.ed)("primary"),children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-spin h-8 w-8 border-2 border-white border-t-transparent rounded-full mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-white font-medium",children:"Loading Upload..."})]})})})}):e?(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h1",{className:"".concat((0,n.$$)("pageTitle")," text-white drop-shadow-lg"),children:"Upload Delivery Dockets"}),(0,l.jsx)("p",{className:"".concat((0,n.$$)("bodySmall")," text-white/90 drop-shadow-md"),children:"Upload multiple delivery documents for batch processing with AI"}),t&&(0,l.jsxs)("p",{className:"text-blue-300 text-sm mt-2",children:[t.name," • ",t.role]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,l.jsx)("div",{className:"lg:col-span-3",children:(0,l.jsxs)("div",{className:(0,n.ed)("primary"),children:[(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("h2",{className:"".concat((0,n.$$)("sectionTitle")," text-white mb-2"),children:"Batch Upload Delivery Documents"}),(0,l.jsx)("p",{className:"".concat((0,n.$$)("bodySmall")," text-white/80"),children:"Upload multiple delivery dockets simultaneously for efficient processing"})]}),(0,l.jsx)("div",{className:"mb-8",children:(0,l.jsx)(o,{clientId:(null==t?void 0:t.id)||"",userId:e.id,onUploadSuccess:e=>{console.log("Batch upload successful:",e),h(e[e.length-1]),g(!0),setTimeout(()=>{g(!1)},6e3)},onUploadError:e=>{console.error("Batch upload failed:",e)},onProgressUpdate:(e,s)=>{console.log("Upload progress: ".concat(e,"/").concat(s," files completed"))},maxFiles:10,maxSizeMB:8})}),(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:(0,n.ed)("secondary"),children:[(0,l.jsx)("h3",{className:"".concat((0,n.$$)("cardTitle")," text-white mb-4"),children:"Batch Upload Tips"}),(0,l.jsxs)("ul",{className:"".concat((0,n.$$)("bodySmall")," text-white space-y-2"),children:[(0,l.jsxs)("li",{className:"flex items-start",children:[(0,l.jsx)("span",{className:"text-blue-400 mr-2",children:"•"}),"Select up to 10 delivery dockets at once"]}),(0,l.jsxs)("li",{className:"flex items-start",children:[(0,l.jsx)("span",{className:"text-blue-400 mr-2",children:"•"}),"Each file must be under 8MB"]}),(0,l.jsxs)("li",{className:"flex items-start",children:[(0,l.jsx)("span",{className:"text-blue-400 mr-2",children:"•"}),"Preview files before uploading"]}),(0,l.jsxs)("li",{className:"flex items-start",children:[(0,l.jsx)("span",{className:"text-blue-400 mr-2",children:"•"}),"Monitor progress for each document"]}),(0,l.jsxs)("li",{className:"flex items-start",children:[(0,l.jsx)("span",{className:"text-blue-400 mr-2",children:"•"}),"Retry individual failed uploads"]}),(0,l.jsxs)("li",{className:"flex items-start",children:[(0,l.jsx)("span",{className:"text-green-400 mr-2",children:"•"}),"Ensure good lighting and clarity"]})]})]}),(0,l.jsxs)("div",{className:(0,n.ed)("secondary"),children:[(0,l.jsx)("h3",{className:"".concat((0,n.$$)("cardTitle")," text-white mb-4"),children:"AI Processing"}),(0,l.jsxs)("ul",{className:"".concat((0,n.$$)("bodySmall")," text-white space-y-2"),children:[(0,l.jsxs)("li",{className:"flex items-start",children:[(0,l.jsx)("span",{className:"text-blue-400 mr-2",children:"•"}),"Extracts delivery information"]}),(0,l.jsxs)("li",{className:"flex items-start",children:[(0,l.jsx)("span",{className:"text-blue-400 mr-2",children:"•"}),"Identifies supplier information"]}),(0,l.jsxs)("li",{className:"flex items-start",children:[(0,l.jsx)("span",{className:"text-blue-400 mr-2",children:"•"}),"Checks NZ compliance rules"]}),(0,l.jsxs)("li",{className:"flex items-start",children:[(0,l.jsx)("span",{className:"text-blue-400 mr-2",children:"•"}),"Generates violation alerts"]}),(0,l.jsxs)("li",{className:"flex items-start",children:[(0,l.jsx)("span",{className:"text-blue-400 mr-2",children:"•"}),"Updates dashboard metrics"]})]})]})]}),m&&p&&(0,l.jsxs)("div",{className:"mt-8 bg-green-600/20 backdrop-blur-sm border border-green-400/30 rounded-xl p-6 transition-opacity duration-500",style:{opacity:+!!p,transform:p?"translateY(0)":"translateY(-10px)"},children:[(0,l.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,l.jsx)("h4",{className:"font-semibold text-green-200",children:"Upload Successful!"}),(0,l.jsx)("button",{onClick:()=>g(!1),className:"text-green-300 hover:text-white transition-colors","aria-label":"Dismiss notification",children:"✕"})]}),(0,l.jsx)("p",{className:"text-sm text-green-300 mb-4",children:"Your delivery docket has been uploaded and is being processed."}),(0,l.jsx)("div",{className:"bg-white/10 rounded-lg p-4",children:(0,l.jsxs)("p",{className:"text-sm text-white/80",children:[(0,l.jsx)("strong",{children:"Record ID:"})," ",m.id,(0,l.jsx)("br",{}),(0,l.jsx)("strong",{children:"Status:"})," Processing with AI...",(0,l.jsx)("br",{}),(0,l.jsx)("strong",{children:"Next:"})," Results will appear in your dashboard"]})}),(0,l.jsx)("div",{className:"mt-3 text-xs text-green-400",children:"This notification will auto-dismiss in 4 seconds"})]})]})}),(0,l.jsx)("div",{className:"lg:col-span-1",children:(0,l.jsxs)("div",{className:(0,n.ed)("primary"),children:[(0,l.jsx)("h2",{className:"".concat((0,n.$$)("sectionTitle")," text-white mb-6"),children:"Upload Actions"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("button",{onClick:()=>b.push("/console/dashboard"),className:"block w-full mb-4 bg-blue-600 hover:bg-blue-700 text-white py-4 px-6 rounded-xl transition-all duration-200 text-left",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-semibold text-lg",children:"View Dashboard"}),(0,l.jsx)("p",{className:"text-sm mt-1 opacity-90",children:"Check compliance metrics"})]})}),(0,l.jsx)("button",{onClick:()=>b.push("/workspace/reports"),className:"block w-full bg-white/20 hover:bg-white/30 text-white py-4 px-6 rounded-xl transition-all duration-200 text-left",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-semibold text-lg",children:"Generate Report"}),(0,l.jsx)("p",{className:"text-sm mt-1 opacity-90",children:"Export compliance data"})]})})]})]})})]})]}):(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,l.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,l.jsx)("div",{className:"bg-white/15 backdrop-blur-lg border border-white/20 rounded-2xl p-6 shadow-lg max-w-md w-full",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"Upload Delivery Docket"}),(0,l.jsx)("p",{className:"text-white/80 text-sm mb-6",children:"Please sign in to upload documents"}),(0,l.jsx)("button",{onClick:f,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-[1.02] mb-4",children:"Sign In as Demo User"}),(0,l.jsx)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3 border border-white/20",children:(0,l.jsx)("p",{className:"text-xs text-white/80",children:"Demo mode with test compliance data"})})]})})})})}}},e=>{e.O(0,[9535,8337,5552,8441,5964,7358],()=>e(e.s=6733)),_N_E=e.O()}]);