"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3019],{8765:(e,a,t)=>{t.d(a,{A:()=>c});var l=t(5155),r=t(2115),s=t(8337);function c(e){let{isOpen:a,onClose:t,uploadType:c,onUploadSuccess:n,theme:o="dark"}=e,[i,d]=(0,r.useState)([]),[m,u]=(0,r.useState)(!1),[h,p]=(0,r.useState)(!1),[g,x]=(0,r.useState)({}),[f,v]=(0,r.useState)({name:"",category:"background"===c?"neutral":"brand",difficulty:"medium",altText:"",tags:""}),b=(0,r.useRef)(null),y=(0,r.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?u(!0):"dragleave"===e.type&&u(!1)},[]),j=(0,r.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),u(!1),k(Array.from(e.dataTransfer.files))},[]),N=(0,r.useCallback)(e=>{e.target.files&&k(Array.from(e.target.files))},[]),k=e=>{let a=e.filter(e=>["image/jpeg","image/png","image/webp","image/gif"].includes(e.type)?!(e.size>5242880)||(alert("".concat(e.name,": File too large. Please use files under 5MB.")),!1):(alert("".concat(e.name,": Invalid file type. Please use JPEG, PNG, WebP, or GIF.")),!1)),t=a.map(e=>({file:e,preview:URL.createObjectURL(e),id:Math.random().toString(36).substr(2,9)}));if(d(e=>[...e,...t]),a.length>0&&!f.name){let e=a[0].name.replace(/\.[^/.]+$/,"");v(a=>({...a,name:e}))}},w=async()=>{if(0===i.length||!f.name)return void alert("Please select files and provide a name.");p(!0);try{for(let e of i){let a=new FormData;if(a.append("file",e.file),a.append("type",c),a.append("name",f.name),a.append("category",f.category),a.append("difficulty",f.difficulty),a.append("altText",f.altText),f.tags){let e=f.tags.split(",").map(e=>e.trim()).filter(Boolean);a.append("tags",JSON.stringify(e))}let t=await fetch("/api/assets/upload",{method:"POST",body:a}),l=await t.json();if(!t.ok)throw Error(l.error||"Upload failed");n&&n(l.asset)}C(),alert("Successfully uploaded ".concat(i.length," ").concat(c,"(s)!"))}catch(e){console.error("Upload error:",e),alert(e instanceof Error?e.message:"Upload failed")}finally{p(!1)}},C=()=>{i.forEach(e=>URL.revokeObjectURL(e.preview)),d([]),v({name:"",category:"background"===c?"neutral":"brand",difficulty:"medium",altText:"",tags:""}),t()};if(!a)return null;let L="background"===c?["kitchen","restaurant","hotel","office","neutral"]:["brand","neutral"];return(0,l.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-md",onClick:C}),(0,l.jsxs)("div",{className:"relative w-full max-w-2xl max-h-[90vh] overflow-y-auto ".concat((0,s.ed)("primary",o)," border-2 ").concat("dark"===o?"border-white/30":"border-gray-300"),children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-white/20",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("h2",{className:"".concat((0,s.$$)("sectionTitle",o)," text-gray-900 font-bold"),children:["Upload ","background"===c?"Background":"Logo"]}),(0,l.jsx)("p",{className:"".concat((0,s.$$)("meta",o)," text-gray-700"),children:"Drag and drop files or click to browse"})]}),(0,l.jsx)("button",{onClick:C,className:"p-2 rounded-full transition-colors hover:bg-gray-100 text-gray-600 hover:text-gray-900",children:(0,l.jsx)("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),(0,l.jsxs)("div",{className:"p-6 space-y-6",children:[(0,l.jsxs)("div",{className:"relative border-2 border-dashed rounded-2xl p-8 text-center transition-all duration-200 cursor-pointer ".concat(m?"border-blue-400 bg-blue-400/10":"dark"===o?"border-white/30 hover:border-white/50 bg-white/5 hover:bg-white/10":"border-gray-300 hover:border-gray-400 bg-gray-50 hover:bg-gray-100"),onDragEnter:y,onDragLeave:y,onDragOver:y,onDrop:j,onClick:()=>{var e;return null==(e=b.current)?void 0:e.click()},children:[(0,l.jsx)("input",{ref:b,type:"file",multiple:!0,accept:"image/*",onChange:N,className:"hidden"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-500",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:(0,l.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-lg font-medium text-gray-900",children:"Drop files here or click to browse"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"JPEG, PNG, WebP, GIF up to 5MB each"})]})]})]}),i.length>0&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("h3",{className:"font-medium text-gray-900",children:["Selected Files (",i.length,")"]}),(0,l.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:i.map(e=>(0,l.jsxs)("div",{className:"relative group",children:[(0,l.jsx)("div",{className:"aspect-square rounded-lg overflow-hidden bg-black/20",children:(0,l.jsx)("img",{src:e.preview,alt:e.file.name,className:"w-full h-full object-cover"})}),(0,l.jsx)("button",{onClick:()=>{var a;return a=e.id,void d(e=>{let t=e.find(e=>e.id===a);return t&&URL.revokeObjectURL(t.preview),e.filter(e=>e.id!==a)})},className:"absolute -top-2 -right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-1.5 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,l.jsx)("svg",{className:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),(0,l.jsx)("p",{className:"mt-2 text-xs truncate text-gray-700",children:e.file.name})]},e.id))})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-900",children:"Asset Name *"}),(0,l.jsx)("input",{type:"text",value:f.name,onChange:e=>v(a=>({...a,name:e.target.value})),className:(0,s._c)(),placeholder:"Enter asset name",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-900",children:"Category"}),(0,l.jsx)("select",{value:f.category,onChange:e=>v(a=>({...a,category:e.target.value})),className:(0,s._c)(),children:L.map(e=>(0,l.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),"background"===c&&(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-900",children:"Difficulty"}),(0,l.jsxs)("select",{value:f.difficulty,onChange:e=>v(a=>({...a,difficulty:e.target.value})),className:(0,s._c)(),children:[(0,l.jsx)("option",{value:"easy",children:"Easy (High Contrast)"}),(0,l.jsx)("option",{value:"medium",children:"Medium"}),(0,l.jsx)("option",{value:"hard",children:"Hard (Low Contrast)"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-900",children:"Alt Text"}),(0,l.jsx)("input",{type:"text",value:f.altText,onChange:e=>v(a=>({...a,altText:e.target.value})),className:(0,s._c)(),placeholder:"Accessibility description"})]}),(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-900",children:"Tags"}),(0,l.jsx)("input",{type:"text",value:f.tags,onChange:e=>v(a=>({...a,tags:e.target.value})),className:(0,s._c)(),placeholder:"modern, dark, professional (comma separated)"})]})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between p-6 border-t ".concat("dark"===o?"border-white/20":"border-gray-200"),children:[(0,l.jsxs)("div",{className:"text-sm text-gray-600",children:[i.length," file",1!==i.length?"s":""," selected"]}),(0,l.jsxs)("div",{className:"flex space-x-3",children:[(0,l.jsx)("button",{onClick:C,className:"px-4 py-2 rounded-lg font-medium transition-colors bg-gray-100 text-gray-800 hover:bg-gray-200",disabled:h,children:"Cancel"}),(0,l.jsx)("button",{onClick:w,disabled:h||0===i.length||!f.name,className:"px-6 py-2 rounded-lg font-medium transition-all duration-200 ".concat(h||0===i.length||!f.name?"bg-gray-500 text-gray-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white shadow-lg hover:shadow-xl"),children:h?(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsxs)("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,l.jsx)("span",{children:"Uploading..."})]}):"Upload ".concat(i.length," ").concat(c).concat(1!==i.length?"s":"")})]})]})]})]})}},9175:(e,a,t)=>{t.d(a,{VM:()=>o});let l={major:1,month:9,day:5,build:13,alpha:""},r="".concat(l.major,".").concat(l.month,".").concat(l.day,".").concat(String(l.build).padStart(3,"0")).concat(l.alpha),s="".concat(l.major,".").concat(l.month,".").concat(l.day).concat(l.alpha),c=new Date().toISOString().split("T")[0],n="production";parseInt(r.split(".")[0]),parseInt(r.split(".")[1]),r.split(".")[2];let o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"short",a="v".concat(r);switch(e){case"short":default:return a;case"full":return"".concat(a," (").concat(c,")");case"detailed":return"".concat(a," (").concat(n,") - Built: ").concat(c);case"dev":return"".concat(a," | ").concat(n.toUpperCase());case"prod":return"v".concat(s)}}}}]);