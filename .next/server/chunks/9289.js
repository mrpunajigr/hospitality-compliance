"use strict";exports.id=9289,exports.ids=[9289],exports.modules={5257:(a,b,c)=>{c.d(b,{VM:()=>i});let d={major:1,month:9,day:5,build:13,alpha:""},e=`${d.major}.${d.month}.${d.day}.${String(d.build).padStart(3,"0")}${d.alpha}`,f=`${d.major}.${d.month}.${d.day}${d.alpha}`,g=new Date().toISOString().split("T")[0],h="production";parseInt(e.split(".")[0]),parseInt(e.split(".")[1]),e.split(".")[2];let i=(a="short")=>{let b=`v${e}`;switch(a){case"short":default:return b;case"full":return`${b} (${g})`;case"detailed":return`${b} (${h}) - Built: ${g}`;case"dev":return`${b} | ${h.toUpperCase()}`;case"prod":return`v${f}`}};console.log(`ðŸš€ Hospitality Compliance SaaS v${e} - ${h} (${g})`)},50865:(a,b,c)=>{c.d(b,{A:()=>g});var d=c(60687),e=c(43210),f=c(31);function g({isOpen:a,onClose:b,uploadType:c,onUploadSuccess:g,theme:h="dark"}){let[i,j]=(0,e.useState)([]),[k,l]=(0,e.useState)(!1),[m,n]=(0,e.useState)(!1),[o,p]=(0,e.useState)({}),[q,r]=(0,e.useState)({name:"",category:"background"===c?"neutral":"brand",difficulty:"medium",altText:"",tags:""}),s=(0,e.useRef)(null),t=(0,e.useCallback)(a=>{a.preventDefault(),a.stopPropagation(),"dragenter"===a.type||"dragover"===a.type?l(!0):"dragleave"===a.type&&l(!1)},[]),u=(0,e.useCallback)(a=>{a.preventDefault(),a.stopPropagation(),l(!1),w(Array.from(a.dataTransfer.files))},[]),v=(0,e.useCallback)(a=>{a.target.files&&w(Array.from(a.target.files))},[]),w=a=>{let b=a.filter(a=>["image/jpeg","image/png","image/webp","image/gif"].includes(a.type)?!(a.size>5242880)||(alert(`${a.name}: File too large. Please use files under 5MB.`),!1):(alert(`${a.name}: Invalid file type. Please use JPEG, PNG, WebP, or GIF.`),!1)),c=b.map(a=>({file:a,preview:URL.createObjectURL(a),id:Math.random().toString(36).substr(2,9)}));if(j(a=>[...a,...c]),b.length>0&&!q.name){let a=b[0].name.replace(/\.[^/.]+$/,"");r(b=>({...b,name:a}))}},x=async()=>{if(0===i.length||!q.name)return void alert("Please select files and provide a name.");n(!0);try{for(let a of i){let b=new FormData;if(b.append("file",a.file),b.append("type",c),b.append("name",q.name),b.append("category",q.category),b.append("difficulty",q.difficulty),b.append("altText",q.altText),q.tags){let a=q.tags.split(",").map(a=>a.trim()).filter(Boolean);b.append("tags",JSON.stringify(a))}let d=await fetch("/api/assets/upload",{method:"POST",body:b}),e=await d.json();if(!d.ok)throw Error(e.error||"Upload failed");g&&g(e.asset)}y(),alert(`Successfully uploaded ${i.length} ${c}(s)!`)}catch(a){console.error("Upload error:",a),alert(a instanceof Error?a.message:"Upload failed")}finally{n(!1)}},y=()=>{i.forEach(a=>URL.revokeObjectURL(a.preview)),j([]),r({name:"",category:"background"===c?"neutral":"brand",difficulty:"medium",altText:"",tags:""}),b()};if(!a)return null;let z="background"===c?["kitchen","restaurant","hotel","office","neutral"]:["brand","neutral"];return(0,d.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,d.jsx)("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-md",onClick:y}),(0,d.jsxs)("div",{className:`relative w-full max-w-2xl max-h-[90vh] overflow-y-auto ${(0,f.ed)("primary",h)} border-2 ${"dark"===h?"border-white/30":"border-gray-300"}`,children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-white/20",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("h2",{className:`${(0,f.$$)("sectionTitle",h)} text-gray-900 font-bold`,children:["Upload ","background"===c?"Background":"Logo"]}),(0,d.jsx)("p",{className:`${(0,f.$$)("meta",h)} text-gray-700`,children:"Drag and drop files or click to browse"})]}),(0,d.jsx)("button",{onClick:y,className:"p-2 rounded-full transition-colors hover:bg-gray-100 text-gray-600 hover:text-gray-900",children:(0,d.jsx)("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),(0,d.jsxs)("div",{className:"p-6 space-y-6",children:[(0,d.jsxs)("div",{className:`relative border-2 border-dashed rounded-2xl p-8 text-center transition-all duration-200 cursor-pointer ${k?"border-blue-400 bg-blue-400/10":"dark"===h?"border-white/30 hover:border-white/50 bg-white/5 hover:bg-white/10":"border-gray-300 hover:border-gray-400 bg-gray-50 hover:bg-gray-100"}`,onDragEnter:t,onDragLeave:t,onDragOver:t,onDrop:u,onClick:()=>s.current?.click(),children:[(0,d.jsx)("input",{ref:s,type:"file",multiple:!0,accept:"image/*",onChange:v,className:"hidden"}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-500",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:(0,d.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-lg font-medium text-gray-900",children:"Drop files here or click to browse"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"JPEG, PNG, WebP, GIF up to 5MB each"})]})]})]}),i.length>0&&(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("h3",{className:"font-medium text-gray-900",children:["Selected Files (",i.length,")"]}),(0,d.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:i.map(a=>(0,d.jsxs)("div",{className:"relative group",children:[(0,d.jsx)("div",{className:"aspect-square rounded-lg overflow-hidden bg-black/20",children:(0,d.jsx)("img",{src:a.preview,alt:a.file.name,className:"w-full h-full object-cover"})}),(0,d.jsx)("button",{onClick:()=>{var b;return b=a.id,void j(a=>{let c=a.find(a=>a.id===b);return c&&URL.revokeObjectURL(c.preview),a.filter(a=>a.id!==b)})},className:"absolute -top-2 -right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-1.5 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,d.jsx)("svg",{className:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),(0,d.jsx)("p",{className:"mt-2 text-xs truncate text-gray-700",children:a.file.name})]},a.id))})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-900",children:"Asset Name *"}),(0,d.jsx)("input",{type:"text",value:q.name,onChange:a=>r(b=>({...b,name:a.target.value})),className:(0,f._c)(),placeholder:"Enter asset name",required:!0})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-900",children:"Category"}),(0,d.jsx)("select",{value:q.category,onChange:a=>r(b=>({...b,category:a.target.value})),className:(0,f._c)(),children:z.map(a=>(0,d.jsx)("option",{value:a,children:a.charAt(0).toUpperCase()+a.slice(1)},a))})]}),"background"===c&&(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-900",children:"Difficulty"}),(0,d.jsxs)("select",{value:q.difficulty,onChange:a=>r(b=>({...b,difficulty:a.target.value})),className:(0,f._c)(),children:[(0,d.jsx)("option",{value:"easy",children:"Easy (High Contrast)"}),(0,d.jsx)("option",{value:"medium",children:"Medium"}),(0,d.jsx)("option",{value:"hard",children:"Hard (Low Contrast)"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-900",children:"Alt Text"}),(0,d.jsx)("input",{type:"text",value:q.altText,onChange:a=>r(b=>({...b,altText:a.target.value})),className:(0,f._c)(),placeholder:"Accessibility description"})]}),(0,d.jsxs)("div",{className:"md:col-span-2",children:[(0,d.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-900",children:"Tags"}),(0,d.jsx)("input",{type:"text",value:q.tags,onChange:a=>r(b=>({...b,tags:a.target.value})),className:(0,f._c)(),placeholder:"modern, dark, professional (comma separated)"})]})]})]}),(0,d.jsxs)("div",{className:`flex items-center justify-between p-6 border-t ${"dark"===h?"border-white/20":"border-gray-200"}`,children:[(0,d.jsxs)("div",{className:"text-sm text-gray-600",children:[i.length," file",1!==i.length?"s":""," selected"]}),(0,d.jsxs)("div",{className:"flex space-x-3",children:[(0,d.jsx)("button",{onClick:y,className:"px-4 py-2 rounded-lg font-medium transition-colors bg-gray-100 text-gray-800 hover:bg-gray-200",disabled:m,children:"Cancel"}),(0,d.jsx)("button",{onClick:x,disabled:m||0===i.length||!q.name,className:`px-6 py-2 rounded-lg font-medium transition-all duration-200 ${m||0===i.length||!q.name?"bg-gray-500 text-gray-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white shadow-lg hover:shadow-xl"}`,children:m?(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsxs)("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,d.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,d.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,d.jsx)("span",{children:"Uploading..."})]}):`Upload ${i.length} ${c}${1!==i.length?"s":""}`})]})]})]})]})}}};